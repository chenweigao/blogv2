/* Wiki-style Custom Theme with Advanced Animations */
:root {
  /* Wiki-inspired color palette */
  --vp-c-brand-1: #0645ad;
  --vp-c-brand-2: #0645ad;
  --vp-c-brand-3: #0645ad;
  --vp-c-brand-soft: rgba(6, 69, 173, 0.14);
  
  /* Wiki background colors */
  --vp-c-bg: #ffffff;
  --vp-c-bg-alt: #f8f9fa;
  --vp-c-bg-elv: #ffffff;
  --vp-c-bg-soft: #f8f9fa;
  
  /* Wiki text colors */
  --vp-c-text-1: #222222;
  --vp-c-text-2: #555555;
  --vp-c-text-3: #777777;
  
  /* Wiki border colors */
  --vp-c-border: #a2a9b1;
  --vp-c-divider: #a2a9b1;
  --vp-c-gutter: #a2a9b1;
  
  /* Wiki-style spacing */
  --vp-layout-max-width: 1200px;
  
  /* Animation variables */
  --animation-duration-fast: 0.2s;
  --animation-duration-normal: 0.3s;
  --animation-duration-slow: 0.5s;
  --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
  --animation-easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  /* Page transition variables */
  --page-transition-duration: 0.4s;
  --page-transition-easing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Dark theme adjustments */
.dark {
  --vp-c-bg: #0d1117;
  --vp-c-bg-alt: #161b22;
  --vp-c-bg-elv: #161b22;
  --vp-c-bg-soft: #161b22;
  
  --vp-c-text-1: #e6edf3;
  --vp-c-text-2: #7d8590;
  --vp-c-text-3: #656d76;
  
  --vp-c-border: #30363d;
  --vp-c-divider: #21262d;
}

/* ===== PAGE TRANSITION ANIMATIONS ===== */

/* 页面切换过渡效果 */
.VPContent {
  transition: all var(--page-transition-duration) var(--page-transition-easing);
  transform-origin: center top;
}

/* 页面内容淡入淡出 */
.VPDoc {
  transition: all var(--page-transition-duration) var(--page-transition-easing);
  transform-origin: center top;
}

/* 页面切换时的内容动画 */
.vp-doc {
  transition: all var(--page-transition-duration) var(--page-transition-easing);
}

/* 页面加载状态 */
.page-loading .VPContent {
  opacity: 0.7;
  transform: translateY(10px);
  filter: blur(1px);
}

.page-loading .VPDoc {
  opacity: 0.5;
  transform: scale(0.98) translateY(20px);
}

/* 链接点击时的即时反馈 */
.VPNavBarMenuLink,
.VPSidebarItem .link,
.vp-doc a {
  position: relative;
  transition: all var(--animation-duration-fast) var(--animation-easing);
}

.VPNavBarMenuLink:active,
.VPSidebarItem .link:active,
.vp-doc a:active {
  transform: scale(0.98);
  opacity: 0.8;
}

/* 页面切换时的加载指示器 */
.page-transition-indicator {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, 
    transparent 0%, 
    var(--vp-c-brand-1) 50%, 
    transparent 100%);
  z-index: 9998;
  animation: pageTransitionProgress 1s ease-in-out;
  transform-origin: left center;
}

@keyframes pageTransitionProgress {
  0% {
    transform: scaleX(0);
    opacity: 1;
  }
  70% {
    transform: scaleX(0.8);
    opacity: 1;
  }
  100% {
    transform: scaleX(1);
    opacity: 0;
  }
}

/* ===== GLOBAL ANIMATIONS ===== */

/* Page load animation */
@keyframes pageLoad {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInFromLeft {
  from {
    opacity: 0;
    transform: translateX(-50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInFromRight {
  from {
    opacity: 0;
    transform: translateX(50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px var(--vp-c-brand-1);
  }
  50% {
    box-shadow: 0 0 20px var(--vp-c-brand-1), 0 0 30px var(--vp-c-brand-1);
  }
}

/* ===== LAYOUT ANIMATIONS ===== */

/* Wiki-style layout adjustments */
.Layout {
  background-color: var(--vp-c-bg);
  animation: pageLoad var(--animation-duration-slow) var(--animation-easing);
  transition: all var(--page-transition-duration) var(--page-transition-easing);
}

/* Wiki-style navigation */
.VPNav {
  background-color: var(--vp-c-bg);
  border-bottom: 1px solid var(--vp-c-border);
  backdrop-filter: blur(10px);
  transition: all var(--animation-duration-normal) var(--animation-easing);
}

.VPNavBar {
  background-color: var(--vp-c-bg);
  transition: all var(--animation-duration-normal) var(--animation-easing);
}

.VPNavBarTitle {
  transition: all var(--animation-duration-normal) var(--animation-easing);
}

/* ===== CODE BLOCK CLICK FUNCTIONALITY ===== */

/* 可点击的代码块样式 */
.clickable-code-block {
  cursor: pointer !important;
  position: relative;
  transition: all var(--animation-duration-fast) var(--animation-easing);
}

.clickable-code-block:active {
  transform: scale(0.99);
}

/* 代码块容器悬停效果 */
.main pre:has(.clickable-code-block) {
  transition: all var(--animation-duration-fast) var(--animation-easing);
  border-radius: 8px;
  overflow: visible;
  position: relative;
  cursor: pointer;
}

.main pre:has(.clickable-code-block):hover {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
  overflow: visible;
}

/* 暗色主题下的代码块样式调整 */
.dark .main pre:has(.clickable-code-block):hover {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

/* 代码块点击动画 */
@keyframes codeBlockClick {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.98);
  }
  100% {
    transform: scale(1);
  }
}

.clickable-code-block.clicked {
  animation: codeBlockClick 0.2s ease-out;
}

/* 响应式设计 */
@media (max-width: 768px) {
  .main pre:has(.clickable-code-block):hover {
    transform: none;
  }
}