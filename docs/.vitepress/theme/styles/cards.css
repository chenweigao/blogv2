/* ============================================
   Card Components - Glassmorphism Styles
   Apple/Linear Design Language
   ============================================ */

/* 
 * Card Component Styling
 * Requirements: 4.1, 4.2, 4.3, 4.8
 * 
 * - Glassmorphism background with backdrop blur (12-16px)
 * - Soft multi-layered shadows for depth
 * - Rounded corners using design token (16px)
 * - cursor: pointer for interactive cards
 */

/* ============================================
   Base Card Styles
   ============================================ */

/* Generic glass card class */
.vp-card,
.glass-card {
  /* Glassmorphism background - Req 4.1 */
  background: var(--vp-card-bg, var(--vp-c-bg-glass-card));
  backdrop-filter: blur(var(--vp-card-blur, var(--vp-blur-card)));
  -webkit-backdrop-filter: blur(var(--vp-card-blur, var(--vp-blur-card)));
  
  /* Border with light reflection effect */
  border: 1px solid var(--vp-card-border, var(--vp-c-border-card));
  
  /* Rounded corners - Req 4.3 (16px) */
  border-radius: var(--vp-card-radius, var(--vp-border-radius-card));
  
  /* Multi-layered soft shadows - Req 4.2 */
  box-shadow: var(--vp-card-shadow, var(--vp-shadow-card));
  
  /* Interactive cursor - Req 4.8 */
  cursor: pointer;
  
  /* Base padding using spacing tokens */
  padding: var(--vp-space-24);
  
  /* Smooth transitions for hover effects - Req 4.6 (200-300ms ease-out) */
  transition: 
    box-shadow var(--vp-animation-duration-normal) var(--vp-animation-easing-out),
    border-color var(--vp-animation-duration-normal) var(--vp-animation-easing-out),
    background-color var(--vp-animation-duration-normal) var(--vp-animation-easing-out);
  
  /* Prevent layout shift */
  position: relative;
  overflow: hidden;
}

/* Card hover effects - Req 4.4, 4.5, 4.6, 4.7 */
@media (hover: hover) {
  .vp-card:hover,
  .glass-card:hover {
    /* Elevation increase with enhanced shadow - Req 4.4 */
    box-shadow: var(--vp-card-shadow-hover, var(--vp-shadow-card-hover));
    
    /* Subtle border color change - Req 4.5 */
    border-color: var(--vp-card-border-hover, var(--vp-c-border-card-hover));
    
    /* Slightly enhanced glass effect */
    background: var(--vp-c-bg-glass-heavy);
  }
}

/* Active state */
.vp-card:active,
.glass-card:active {
  box-shadow: var(--vp-shadow-card);
}

/* ============================================
   Card Variants
   ============================================ */

/* Elevated card - more prominent shadow */
.vp-card--elevated,
.glass-card--elevated {
  box-shadow: var(--vp-shadow-4);
}

@media (hover: hover) {
  .vp-card--elevated:hover,
  .glass-card--elevated:hover {
    box-shadow: var(--vp-shadow-5);
  }
}

/* Outlined card - subtle border emphasis */
.vp-card--outlined,
.glass-card--outlined {
  background: transparent;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border: 1px solid var(--vp-c-border);
  box-shadow: none;
}

@media (hover: hover) {
  .vp-card--outlined:hover,
  .glass-card--outlined:hover {
    border-color: var(--vp-c-brand-1);
    background: var(--vp-c-brand-soft);
    box-shadow: var(--vp-shadow-2);
  }
}

/* Flat card - no elevation */
.vp-card--flat,
.glass-card--flat {
  box-shadow: none;
  border: 1px solid var(--vp-c-border);
}

@media (hover: hover) {
  .vp-card--flat:hover,
  .glass-card--flat:hover {
    box-shadow: var(--vp-shadow-2);
    border-color: var(--vp-c-border-hover);
  }
}

/* Brand accent card */
.vp-card--brand,
.glass-card--brand {
  border-top: 3px solid var(--vp-c-brand-1);
}

@media (hover: hover) {
  .vp-card--brand:hover,
  .glass-card--brand:hover {
    box-shadow: 
      var(--vp-shadow-card-hover),
      var(--vp-shadow-brand-sm);
  }
}

/* ============================================
   Card Content Elements
   ============================================ */

/* Card header */
.vp-card__header,
.glass-card__header {
  margin-bottom: var(--vp-space-16);
}

/* Card icon */
.vp-card__icon,
.glass-card__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  margin-bottom: var(--vp-space-16);
  background: var(--vp-c-brand-soft);
  border-radius: var(--vp-border-radius-large);
  font-size: 24px;
  color: var(--vp-c-brand-1);
  transition: 
    transform var(--vp-animation-duration-fast) var(--vp-animation-easing-spring),
    background-color var(--vp-animation-duration-fast) var(--vp-animation-easing-out);
}

@media (hover: hover) {
  .vp-card:hover .vp-card__icon,
  .glass-card:hover .glass-card__icon {
    transform: scale(1.1);
    background: var(--vp-c-brand-gradient);
    color: white;
  }
}

/* Card title */
.vp-card__title,
.glass-card__title {
  font-size: var(--vp-font-size-l);
  font-weight: 600;
  color: var(--vp-c-text-1);
  margin-bottom: var(--vp-space-8);
  letter-spacing: -0.01em;
  line-height: var(--vp-line-height-tight);
  transition: color var(--vp-animation-duration-fast) var(--vp-animation-easing-out);
}

@media (hover: hover) {
  .vp-card:hover .vp-card__title,
  .glass-card:hover .glass-card__title {
    color: var(--vp-c-brand-1);
  }
}

/* Card description */
.vp-card__description,
.glass-card__description {
  font-size: var(--vp-font-size-s);
  color: var(--vp-c-text-2);
  line-height: var(--vp-line-height-relaxed);
  margin: 0;
}

/* Card body */
.vp-card__body,
.glass-card__body {
  flex: 1;
}

/* Card footer */
.vp-card__footer,
.glass-card__footer {
  margin-top: var(--vp-space-16);
  padding-top: var(--vp-space-16);
  border-top: 1px solid var(--vp-c-divider-light);
}

/* Card link/action */
.vp-card__link,
.glass-card__link {
  display: inline-flex;
  align-items: center;
  font-size: var(--vp-font-size-s);
  font-weight: 500;
  color: var(--vp-c-brand-1);
  text-decoration: none;
  transition: 
    color var(--vp-animation-duration-fast) var(--vp-animation-easing-out);
}

.vp-card__link::after,
.glass-card__link::after {
  content: 'â†’';
  margin-left: var(--vp-space-4);
  transition: transform var(--vp-animation-duration-fast) var(--vp-animation-easing-spring);
}

@media (hover: hover) {
  .vp-card:hover .vp-card__link::after,
  .glass-card:hover .glass-card__link::after {
    transform: translateX(4px);
  }
}

/* ============================================
   Card Grid Layout
   ============================================ */

.vp-card-grid,
.glass-card-grid {
  display: grid;
  gap: var(--vp-space-24);
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

/* Two column grid */
.vp-card-grid--2,
.glass-card-grid--2 {
  grid-template-columns: repeat(2, 1fr);
}

/* Three column grid */
.vp-card-grid--3,
.glass-card-grid--3 {
  grid-template-columns: repeat(3, 1fr);
}

/* Four column grid */
.vp-card-grid--4,
.glass-card-grid--4 {
  grid-template-columns: repeat(4, 1fr);
}

/* Responsive grid adjustments */
@media (max-width: 1024px) {
  .vp-card-grid--4,
  .glass-card-grid--4 {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .vp-card-grid--3,
  .glass-card-grid--3 {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .vp-card-grid,
  .glass-card-grid,
  .vp-card-grid--2,
  .glass-card-grid--2,
  .vp-card-grid--3,
  .glass-card-grid--3,
  .vp-card-grid--4,
  .glass-card-grid--4 {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   VitePress Feature Cards Enhancement
   ============================================ */

/* Apply glassmorphism to VitePress feature cards */
.VPFeature {
  /* Glassmorphism background - Req 4.1 */
  background: var(--vp-card-bg, var(--vp-c-bg-glass-card));
  backdrop-filter: blur(var(--vp-card-blur, var(--vp-blur-card)));
  -webkit-backdrop-filter: blur(var(--vp-card-blur, var(--vp-blur-card)));
  
  /* Border */
  border: 1px solid var(--vp-card-border, var(--vp-c-border-card));
  
  /* Rounded corners - Req 4.3 */
  border-radius: var(--vp-card-radius, var(--vp-border-radius-card));
  
  /* Multi-layered shadows - Req 4.2 */
  box-shadow: var(--vp-card-shadow, var(--vp-shadow-card));
  
  /* Interactive cursor - Req 4.8 */
  cursor: pointer;
  
  /* Smooth transitions - Req 4.6 */
  transition: 
    box-shadow var(--vp-animation-duration-normal) var(--vp-animation-easing-out),
    border-color var(--vp-animation-duration-normal) var(--vp-animation-easing-out),
    background-color var(--vp-animation-duration-normal) var(--vp-animation-easing-out);
}

/* VitePress Feature hover - Req 4.4, 4.5, 4.7 */
@media (hover: hover) {
  .VPFeature:hover {
    /* Enhanced shadow on hover - Req 4.4 */
    box-shadow: var(--vp-card-shadow-hover, var(--vp-shadow-card-hover));
    
    /* Border color change - Req 4.5 */
    border-color: var(--vp-card-border-hover, var(--vp-c-border-card-hover));
    
    /* Enhanced glass background */
    background: var(--vp-c-bg-glass-heavy);
  }
}

/* ============================================
   VitePress Home Feature Cards
   ============================================ */

/* Home page feature items */
.VPFeatures .item {
  /* Glassmorphism background */
  background: var(--vp-card-bg, var(--vp-c-bg-glass-card));
  backdrop-filter: blur(var(--vp-card-blur, var(--vp-blur-card)));
  -webkit-backdrop-filter: blur(var(--vp-card-blur, var(--vp-blur-card)));
  
  /* Border */
  border: 1px solid var(--vp-card-border, var(--vp-c-border-card));
  
  /* Rounded corners */
  border-radius: var(--vp-card-radius, var(--vp-border-radius-card));
  
  /* Multi-layered shadows */
  box-shadow: var(--vp-card-shadow, var(--vp-shadow-card));
  
  /* Interactive cursor */
  cursor: pointer;
  
  /* Smooth transitions */
  transition: 
    box-shadow var(--vp-animation-duration-normal) var(--vp-animation-easing-out),
    border-color var(--vp-animation-duration-normal) var(--vp-animation-easing-out),
    background-color var(--vp-animation-duration-normal) var(--vp-animation-easing-out);
}

@media (hover: hover) {
  .VPFeatures .item:hover {
    box-shadow: var(--vp-card-shadow-hover, var(--vp-shadow-card-hover));
    border-color: var(--vp-card-border-hover, var(--vp-c-border-card-hover));
    background: var(--vp-c-bg-glass-heavy);
  }
}

/* ============================================
   Doc Page Cards (Related Articles, etc.)
   ============================================ */

/* Related article cards */
.related-item {
  /* Glassmorphism background */
  background: var(--vp-card-bg, var(--vp-c-bg-glass-card));
  backdrop-filter: blur(var(--vp-card-blur, var(--vp-blur-card)));
  -webkit-backdrop-filter: blur(var(--vp-card-blur, var(--vp-blur-card)));
  
  /* Border */
  border: 1px solid var(--vp-card-border, var(--vp-c-border-card));
  
  /* Rounded corners */
  border-radius: var(--vp-card-radius, var(--vp-border-radius-card));
  
  /* Multi-layered shadows */
  box-shadow: var(--vp-card-shadow, var(--vp-shadow-card));
  
  /* Interactive cursor */
  cursor: pointer;
  
  /* Smooth transitions */
  transition: 
    box-shadow var(--vp-animation-duration-normal) var(--vp-animation-easing-out),
    border-color var(--vp-animation-duration-normal) var(--vp-animation-easing-out),
    background-color var(--vp-animation-duration-normal) var(--vp-animation-easing-out);
}

@media (hover: hover) {
  .related-item:hover {
    box-shadow: var(--vp-card-shadow-hover, var(--vp-shadow-card-hover));
    border-color: var(--vp-card-border-hover, var(--vp-c-border-card-hover));
    background: var(--vp-c-bg-glass-heavy);
  }
}

/* ============================================
   Glassmorphism Fallback - Req 7.8
   ============================================ */

@supports not (backdrop-filter: blur(1px)) {
  .vp-card,
  .glass-card,
  .VPFeature,
  .VPFeatures .item,
  .related-item {
    /* Solid background fallback */
    background: var(--vp-c-bg);
    opacity: 0.95;
  }
  
  .dark .vp-card,
  .dark .glass-card,
  .dark .VPFeature,
  .dark .VPFeatures .item,
  .dark .related-item {
    background: var(--vp-c-bg-alt);
  }
}

/* ============================================
   Reduced Motion Support - Req 9.4
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .vp-card,
  .glass-card,
  .VPFeature,
  .VPFeatures .item,
  .related-item,
  .vp-card__icon,
  .glass-card__icon,
  .vp-card__link::after,
  .glass-card__link::after {
    transition: none;
  }
}
