/**
 * VitePress Theme Override - Glassmorphism Style
 * 
 * 通过覆盖 VitePress 官方 CSS 变量来实现玻璃拟态效果
 * 这是 VitePress 推荐的主题自定义方式，避免选择器优先级冲突
 */

/* ============================================
   品牌色彩 - Apple/Linear 风格蓝紫色调
   ============================================ */
:root {
  /* 品牌色 */
  --vp-c-brand-1: #5E5CE6;
  --vp-c-brand-2: #7B7BF7;
  --vp-c-brand-3: #4B4ACF;
  --vp-c-brand-soft: rgba(94, 92, 230, 0.14);
  
  /* 提示色使用品牌色 */
  --vp-c-tip-1: var(--vp-c-brand-1);
  --vp-c-tip-2: var(--vp-c-brand-2);
  --vp-c-tip-3: var(--vp-c-brand-3);
  --vp-c-tip-soft: var(--vp-c-brand-soft);
}

.dark {
  --vp-c-brand-1: #7B7BF7;
  --vp-c-brand-2: #9B9BFF;
  --vp-c-brand-3: #5E5CE6;
  --vp-c-brand-soft: rgba(123, 123, 247, 0.16);
  
  --vp-c-tip-1: var(--vp-c-brand-1);
  --vp-c-tip-2: var(--vp-c-brand-2);
  --vp-c-tip-3: var(--vp-c-brand-3);
  --vp-c-tip-soft: var(--vp-c-brand-soft);
}

/* ============================================
   导航栏 - 玻璃拟态效果
   ============================================ */
:root {
  /* 导航栏背景 - 半透明白色 */
  --vp-nav-bg-color: rgba(255, 255, 255, 0.8);
  --vp-nav-screen-bg-color: rgba(255, 255, 255, 0.95);
  --vp-local-nav-bg-color: rgba(255, 255, 255, 0.8);
}

.dark {
  /* 暗色模式导航栏背景 */
  --vp-nav-bg-color: rgba(27, 27, 31, 0.85);
  --vp-nav-screen-bg-color: rgba(27, 27, 31, 0.95);
  --vp-local-nav-bg-color: rgba(27, 27, 31, 0.85);
}

/* ============================================
   侧边栏 - 玻璃拟态效果
   ============================================ */
:root {
  --vp-sidebar-bg-color: rgba(246, 246, 247, 0.8);
}

.dark {
  --vp-sidebar-bg-color: rgba(22, 22, 24, 0.85);
}

/* ============================================
   导航栏样式增强 - 浮动 + 毛玻璃
   ============================================ */
.VPNav {
  /* 浮动布局 */
  position: fixed !important;
  top: 12px !important;
  left: 16px !important;
  right: 16px !important;
  width: auto !important;
  max-width: calc(100% - 32px) !important;
  
  /* 圆角 */
  border-radius: 16px !important;
  
  /* 毛玻璃效果 */
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  
  /* 边框 - 玻璃反光效果 */
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-top: 1px solid rgba(255, 255, 255, 0.4) !important;
  
  /* 阴影 */
  box-shadow: 
    0 4px 30px rgba(0, 0, 0, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
  
  /* 层级 */
  z-index: 100 !important;
  
  /* 过渡动画 */
  transition: 
    background-color 0.25s ease,
    box-shadow 0.25s ease,
    backdrop-filter 0.25s ease !important;
}

/* 暗色模式导航栏 */
.dark .VPNav {
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
  border-top: 1px solid rgba(255, 255, 255, 0.12) !important;
  box-shadow: 
    0 4px 30px rgba(0, 0, 0, 0.25),
    0 1px 3px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
}

/* 导航栏内部元素透明 */
.VPNav .VPNavBar,
.VPNav .VPNavBar .wrapper,
.VPNav .VPNavBar .container,
.VPNav .content,
.VPNav .content-body {
  background: transparent !important;
}

/* 导航栏下的分割线隐藏 */
.VPNav .VPNavBar .divider,
.VPNav .divider-line {
  display: none !important;
}

/* ============================================
   内容区域偏移 - 适配浮动导航栏
   ============================================ */
.VPContent {
  padding-top: calc(var(--vp-nav-height) + 32px) !important;
}

.VPSidebar {
  padding-top: calc(var(--vp-nav-height) + 32px) !important;
  top: 0 !important;
}

/* 首页特殊处理 */
.VPHome {
  padding-top: calc(var(--vp-nav-height) + 32px) !important;
}

/* ============================================
   侧边栏样式增强
   ============================================ */
.VPSidebar {
  /* 毛玻璃效果 */
  backdrop-filter: blur(12px) saturate(150%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(150%) !important;
  
  /* 右边框 */
  border-right: 1px solid rgba(0, 0, 0, 0.06) !important;
}

.dark .VPSidebar {
  border-right: 1px solid rgba(255, 255, 255, 0.06) !important;
}

/* 侧边栏激活项样式 */
.VPSidebar .VPSidebarItem.is-active > .item > .link,
.VPSidebar .VPSidebarItem.is-link.is-active > .item > .link {
  color: var(--vp-c-brand-1) !important;
  background-color: var(--vp-c-brand-soft) !important;
  border-left: 3px solid var(--vp-c-brand-1) !important;
  border-radius: 0 6px 6px 0 !important;
  margin-left: -3px !important;
  padding-left: calc(var(--vp-sidebar-item-padding) + 3px) !important;
}

/* 侧边栏悬停效果 */
.VPSidebar .VPSidebarItem .link:hover {
  color: var(--vp-c-brand-1) !important;
  background-color: var(--vp-c-bg-soft) !important;
}

/* ============================================
   导航菜单项样式
   ============================================ */
.VPNavBarMenuLink {
  border-radius: 6px !important;
  padding: 6px 12px !important;
  transition: 
    color 0.15s ease,
    background-color 0.15s ease !important;
}

.VPNavBarMenuLink:hover {
  color: var(--vp-c-brand-1) !important;
  background-color: var(--vp-c-brand-soft) !important;
}

.VPNavBarMenuLink.active {
  color: var(--vp-c-brand-1) !important;
  background-color: var(--vp-c-brand-soft) !important;
  font-weight: 600 !important;
}

/* ============================================
   响应式调整
   ============================================ */
@media (max-width: 768px) {
  .VPNav {
    top: 8px !important;
    left: 8px !important;
    right: 8px !important;
    max-width: calc(100% - 16px) !important;
    border-radius: 12px !important;
  }
  
  .VPContent,
  .VPSidebar,
  .VPHome {
    padding-top: calc(var(--vp-nav-height) + 24px) !important;
  }
}

@media (max-width: 480px) {
  .VPNav {
    top: 6px !important;
    left: 6px !important;
    right: 6px !important;
    max-width: calc(100% - 12px) !important;
    border-radius: 10px !important;
  }
  
  .VPContent,
  .VPSidebar,
  .VPHome {
    padding-top: calc(var(--vp-nav-height) + 20px) !important;
  }
}

/* ============================================
   减少动画偏好支持
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  .VPNav,
  .VPNavBarMenuLink,
  .VPSidebar .VPSidebarItem .link {
    transition: none !important;
  }
}

/* ============================================
   毛玻璃效果降级
   ============================================ */
@supports not (backdrop-filter: blur(1px)) {
  .VPNav {
    background: rgba(255, 255, 255, 0.95) !important;
  }
  
  .dark .VPNav {
    background: rgba(27, 27, 31, 0.95) !important;
  }
  
  .VPSidebar {
    background: rgba(246, 246, 247, 0.95) !important;
  }
  
  .dark .VPSidebar {
    background: rgba(22, 22, 24, 0.95) !important;
  }
}
