/* 响应式图片样式 - 支持自定义尺寸 */

/* 基础响应式图片样式 */
.responsive-image {
  max-width: 100%;
  height: auto;
  border-radius: var(--vp-border-radius-medium);
  box-shadow: var(--vp-shadow-1);
  transition: all var(--vp-animation-duration-fast) var(--vp-animation-easing);
  display: block;
  margin: 1rem auto;
}

/* 悬停效果 - 简化版本 */
.responsive-image:hover {
  box-shadow: var(--vp-shadow-2);
  cursor: zoom-in;
}

/* 图片容器 */
.vp-doc img {
  /* 确保图片不超出容器 */
  max-width: 100%;
  height: auto;
  
  /* 图片居中显示 */
  display: block;
  margin-left: auto;
  margin-right: auto;
}

/* 小尺寸图片样式 */
.vp-doc img[style*="width"][style*="px"] {
  /* 对于指定像素宽度的图片，在小屏幕上进行响应式处理 */
  max-width: 100% !important;
  height: auto !important;
}

/* 百分比宽度图片 */
.vp-doc img[style*="%"] {
  width: var(--img-width, 100%);
  height: auto;
}

/* 响应式断点 */
@media (max-width: 768px) {
  /* 移动设备上的图片优化 */
  .responsive-image {
    margin: 0.5rem auto;
    border-radius: var(--vp-border-radius-small);
  }
  
  /* 强制小屏幕上的大图片响应式 */
  .vp-doc img[style*="width"] {
    max-width: 100% !important;
    width: auto !important;
  }
  
  /* 固定像素宽度在移动设备上的处理 */
  .vp-doc img[style*="300px"],
  .vp-doc img[style*="400px"],
  .vp-doc img[style*="500px"] {
    max-width: 90% !important;
    width: auto !important;
  }
}

@media (max-width: 480px) {
  /* 更小屏幕的优化 */
  .responsive-image {
    margin: 0.25rem auto;
  }
  
  .vp-doc img {
    max-width: 100% !important;
    width: auto !important;
    height: auto !important;
  }
}

/* 图片加载状态 */
.responsive-image {
  background-color: var(--vp-c-bg-soft);
  background-image: 
    linear-gradient(45deg, transparent 25%, rgba(0,0,0,.1) 25%), 
    linear-gradient(-45deg, transparent 25%, rgba(0,0,0,.1) 25%), 
    linear-gradient(45deg, rgba(0,0,0,.1) 75%, transparent 75%), 
    linear-gradient(-45deg, rgba(0,0,0,.1) 75%, transparent 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}

/* 图片加载完成后移除背景 */
.responsive-image.loaded {
  background: none;
}

/* 图片容器wrapper - 用于更好的布局控制 */
.image-container {
  text-align: center;
  margin: 1.5rem 0;
}

.image-container .responsive-image {
  margin: 0;
  display: inline-block;
}

/* 图片标题样式 */
.image-caption {
  font-size: 0.875rem;
  color: var(--vp-c-text-3);
  margin-top: 0.5rem;
  font-style: italic;
  text-align: center;
}

/* 图片网格布局支持 */
.image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin: 1.5rem 0;
}

.image-grid .responsive-image {
  margin: 0;
  width: 100%;
}

/* 动画降级支持 */
@media (prefers-reduced-motion: reduce) {
  .responsive-image {
    transition: none;
  }
}

/* 高对比度模式支持 */
@media (prefers-contrast: high) {
  .responsive-image {
    border: 1px solid var(--vp-c-border);
  }
}

/* 深色模式下的图片优化 */
.dark .responsive-image {
  box-shadow: var(--vp-shadow-2);
}

.dark .responsive-image:hover {
  box-shadow: var(--vp-shadow-3);
}