<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.22" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.85" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Pipeline","image":[""],"datePublished":"2022-08-24T00:00:00.000Z","dateModified":"2025-02-08T02:58:09.000Z","author":[{"@type":"Person","name":"Someone","url":"https://www.weigao.cc"}]}</script><meta property="og:url" content="https://vueblog.weigao.cc/architecture/pipline.html"><meta property="og:site_name" content="weigao"><meta property="og:title" content="Pipeline"><meta property="og:description" content="1. Abstract æœ¬æ–‡ä¸»è¦ç ”ç©¶æµæ°´çº¿æŠ€æœ¯åœ¨è®¡ç®—æœºä½“ç³»ç»“æ„ä¸­çš„åº”ç”¨ã€‚æµæ°´çº¿æŠ€æœ¯åˆ†ä¸ºä¸¤ä¸ªå¤§çš„éƒ¨åˆ†ï¼Œæœ¬éƒ¨åˆ†ç»Ÿä¸€ç ”ç©¶æµæ°´çº¿çš„åŸºç¡€çŸ¥è¯†éƒ¨åˆ†ï¼Œæ€»ä½“è€Œè¨€å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š data path implications, hazards and examining the performance of pipelines. interaction between..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-02-08T02:58:09.000Z"><meta property="article:published_time" content="2022-08-24T00:00:00.000Z"><meta property="article:modified_time" content="2025-02-08T02:58:09.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><link rel="icon" href="modx-icon.svg"><title>Pipeline | weigao</title><meta name="description" content="1. Abstract æœ¬æ–‡ä¸»è¦ç ”ç©¶æµæ°´çº¿æŠ€æœ¯åœ¨è®¡ç®—æœºä½“ç³»ç»“æ„ä¸­çš„åº”ç”¨ã€‚æµæ°´çº¿æŠ€æœ¯åˆ†ä¸ºä¸¤ä¸ªå¤§çš„éƒ¨åˆ†ï¼Œæœ¬éƒ¨åˆ†ç»Ÿä¸€ç ”ç©¶æµæ°´çº¿çš„åŸºç¡€çŸ¥è¯†éƒ¨åˆ†ï¼Œæ€»ä½“è€Œè¨€å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š data path implications, hazards and examining the performance of pipelines. interaction between...">
    <link rel="preload" href="/assets/style-DTwT6W5F.css" as="style"><link rel="stylesheet" href="/assets/style-DTwT6W5F.css">
    <link rel="modulepreload" href="/assets/app-11Vuyqh7.js"><link rel="modulepreload" href="/assets/pipline.html-DCmp_e2x.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-zxK26moD.js" as="script"><link rel="prefetch" href="/assets/home.html-BOnf4GSZ.js" as="script"><link rel="prefetch" href="/assets/intro.html-KS-cxLYt.js" as="script"><link rel="prefetch" href="/assets/Drawing 2025-05-11 16.01.37 - GPU Arch.excalidraw.html-D86SW3G_.js" as="script"><link rel="prefetch" href="/assets/index.html-9EJ8q5CX.js" as="script"><link rel="prefetch" href="/assets/backtrack.html-83ZdyZ5D.js" as="script"><link rel="prefetch" href="/assets/binary_search.html-DpY6Hoxi.js" as="script"><link rel="prefetch" href="/assets/binary_tree.html-D67RRWdZ.js" as="script"><link rel="prefetch" href="/assets/dfs_bfs.html-BsfdmS2n.js" as="script"><link rel="prefetch" href="/assets/dp.html-oH8dA_N7.js" as="script"><link rel="prefetch" href="/assets/lcs.html-BjogI-T-.js" as="script"><link rel="prefetch" href="/assets/package.html-DFFA-SQW.js" as="script"><link rel="prefetch" href="/assets/presum.html-CuPnfyr6.js" as="script"><link rel="prefetch" href="/assets/slide_window.html-D2_tiEom.js" as="script"><link rel="prefetch" href="/assets/snappet.html-yBWaHH5N.js" as="script"><link rel="prefetch" href="/assets/sort.html-C_BgcWBM.js" as="script"><link rel="prefetch" href="/assets/MMU.html-CWbjpvX2.js" as="script"><link rel="prefetch" href="/assets/index.html-CVlNLbCw.js" as="script"><link rel="prefetch" href="/assets/cache.html-CqGv_8n7.js" as="script"><link rel="prefetch" href="/assets/ibs.html-DTyyhLLw.js" as="script"><link rel="prefetch" href="/assets/memory_va_page.html-5P5LJy5i.js" as="script"><link rel="prefetch" href="/assets/numa_socket.html-CYJ0cZIb.js" as="script"><link rel="prefetch" href="/assets/x86_inst.html-D6ZWLxHA.js" as="script"><link rel="prefetch" href="/assets/index.html-BX-AnLMZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CVbDMppB.js" as="script"><link rel="prefetch" href="/assets/apt.html-qA4mcNMO.js" as="script"><link rel="prefetch" href="/assets/index.html-CDUQEHd-.js" as="script"><link rel="prefetch" href="/assets/coroutines.html-CrGtibvH.js" as="script"><link rel="prefetch" href="/assets/crontab.html-Cd60F1z2.js" as="script"><link rel="prefetch" href="/assets/effective-python.html-BtB3Tmhk.js" as="script"><link rel="prefetch" href="/assets/hash.html-BoUIu4An.js" as="script"><link rel="prefetch" href="/assets/io.html-6jQ1WNw8.js" as="script"><link rel="prefetch" href="/assets/itertools.html-BMJNoro8.js" as="script"><link rel="prefetch" href="/assets/log.html-xUzl6582.js" as="script"><link rel="prefetch" href="/assets/pandas.html-C1dM82Yf.js" as="script"><link rel="prefetch" href="/assets/pip.html-Dypw9pNA.js" as="script"><link rel="prefetch" href="/assets/py-data-struct.html-kooI_52N.js" as="script"><link rel="prefetch" href="/assets/py-file.html-FIIZ-YbS.js" as="script"><link rel="prefetch" href="/assets/py-tools.html-D5bcsaO-.js" as="script"><link rel="prefetch" href="/assets/pytest.html-OgGE0eTo.js" as="script"><link rel="prefetch" href="/assets/python-function.html-CYOGmL4g.js" as="script"><link rel="prefetch" href="/assets/python-oo.html-CmZSSSvl.js" as="script"><link rel="prefetch" href="/assets/python_c.html-BvFWfxpn.js" as="script"><link rel="prefetch" href="/assets/virtualenv.html-DiNpud0U.js" as="script"><link rel="prefetch" href="/assets/hashmap.html-Dz2CKlaD.js" as="script"><link rel="prefetch" href="/assets/linkedlist.html-C7OAeKS9.js" as="script"><link rel="prefetch" href="/assets/index.html-BOnZ5GuX.js" as="script"><link rel="prefetch" href="/assets/stack.html-DjhAUPSF.js" as="script"><link rel="prefetch" href="/assets/string.html-Bz3FwYEy.js" as="script"><link rel="prefetch" href="/assets/tree.html-Br-a9aoF.js" as="script"><link rel="prefetch" href="/assets/index.html-Ba4rXWD0.js" as="script"><link rel="prefetch" href="/assets/arm_inline_assembly.html-B0KAke9u.js" as="script"><link rel="prefetch" href="/assets/arm_ins.html-D9h5RQ0O.js" as="script"><link rel="prefetch" href="/assets/index.html-BFYYmxE-.js" as="script"><link rel="prefetch" href="/assets/SAC - ISCA 23.html-09AA0ObK.js" as="script"><link rel="prefetch" href="/assets/gpu_arch.html-WvJWZ39h.js" as="script"><link rel="prefetch" href="/assets/gpu_communication.html-DXzHPo0o.js" as="script"><link rel="prefetch" href="/assets/index.html-C1Zp2-vr.js" as="script"><link rel="prefetch" href="/assets/vp_hpca14.html-CJYCI2Qm.js" as="script"><link rel="prefetch" href="/assets/vp_value_prediction.html-rqjKqjzS.js" as="script"><link rel="prefetch" href="/assets/Docker.html-MudQ_TKE.js" as="script"><link rel="prefetch" href="/assets/design-pattern.html-CiYAVGBb.js" as="script"><link rel="prefetch" href="/assets/gc.html-DwDdbuPt.js" as="script"><link rel="prefetch" href="/assets/huawei_cloud.html-CCZ0gW2z.js" as="script"><link rel="prefetch" href="/assets/jvm.html-Uyi34U3e.js" as="script"><link rel="prefetch" href="/assets/jvm_art.html-ITo72_c2.js" as="script"><link rel="prefetch" href="/assets/kernel.html-CK6PRiLb.js" as="script"><link rel="prefetch" href="/assets/kvm.html-CBLf4nNV.js" as="script"><link rel="prefetch" href="/assets/linux_os.html-CnVgO5VK.js" as="script"><link rel="prefetch" href="/assets/nginx.html-Cq_uSALv.js" as="script"><link rel="prefetch" href="/assets/openresty.html-BVsqn9s8.js" as="script"><link rel="prefetch" href="/assets/snap.html-CnWdZnr8.js" as="script"><link rel="prefetch" href="/assets/mongodb.html-DJN7sRQP.js" as="script"><link rel="prefetch" href="/assets/mysql.html-B3bc5n7F.js" as="script"><link rel="prefetch" href="/assets/peewee.html-p9gb8JFw.js" as="script"><link rel="prefetch" href="/assets/redis.html-ACAEk0k1.js" as="script"><link rel="prefetch" href="/assets/celery.html-cDD9IPkc.js" as="script"><link rel="prefetch" href="/assets/flask.html-BVjFlLLQ.js" as="script"><link rel="prefetch" href="/assets/spring.html-D5s6F21i.js" as="script"><link rel="prefetch" href="/assets/chartsjs.html-_Hi8cUhq.js" as="script"><link rel="prefetch" href="/assets/css.html-DOgGeuCI.js" as="script"><link rel="prefetch" href="/assets/jsnote.html-D_jaGu96.js" as="script"><link rel="prefetch" href="/assets/node_install.html-CmtBQ1rX.js" as="script"><link rel="prefetch" href="/assets/vue.html-Dqt1Gblp.js" as="script"><link rel="prefetch" href="/assets/epoll.html-Bcw8HLHg.js" as="script"><link rel="prefetch" href="/assets/http.html-hQEs5kwH.js" as="script"><link rel="prefetch" href="/assets/networks.html-CN9xVKX7.js" as="script"><link rel="prefetch" href="/assets/code_life.html-CDQGU-NF.js" as="script"><link rel="prefetch" href="/assets/new.html-D7TkZNlV.js" as="script"><link rel="prefetch" href="/assets/paper_report.html-BWxBZGu5.js" as="script"><link rel="prefetch" href="/assets/soft_skills.html-CoR5flex.js" as="script"><link rel="prefetch" href="/assets/thoughts-2018.html-Cl_wNRe8.js" as="script"><link rel="prefetch" href="/assets/worklog.html-CbEAWpO4.js" as="script"><link rel="prefetch" href="/assets/zen_of_python.html-DjjNB24O.js" as="script"><link rel="prefetch" href="/assets/blog_plan.html-BUH5W6bZ.js" as="script"><link rel="prefetch" href="/assets/jekyll.html-Dl6vWkhw.js" as="script"><link rel="prefetch" href="/assets/kilo.html-DRtf-EN5.js" as="script"><link rel="prefetch" href="/assets/qqbot.html-CHBL4Maf.js" as="script"><link rel="prefetch" href="/assets/vueblog.html-BO53P7n5.js" as="script"><link rel="prefetch" href="/assets/ArrayTrack.html-yho5LwA0.js" as="script"><link rel="prefetch" href="/assets/RF-Pose.html-D6K6uIBj.js" as="script"><link rel="prefetch" href="/assets/cnn.html-BIebAlXT.js" as="script"><link rel="prefetch" href="/assets/csitool.html-E-MBdb_8.js" as="script"><link rel="prefetch" href="/assets/cvpr.html-BJfAtlTw.js" as="script"><link rel="prefetch" href="/assets/face_recognition.html-DoB8VJ3H.js" as="script"><link rel="prefetch" href="/assets/information_theory.html-DtmkkHAs.js" as="script"><link rel="prefetch" href="/assets/latex.html-BQsiUShC.js" as="script"><link rel="prefetch" href="/assets/mnist.html-COmKsga0.js" as="script"><link rel="prefetch" href="/assets/opencv.html-CEtNG21b.js" as="script"><link rel="prefetch" href="/assets/splicer.html-lIbOq7tr.js" as="script"><link rel="prefetch" href="/assets/tensorflow.html-CyTbLA2F.js" as="script"><link rel="prefetch" href="/assets/tensorflowio.html-BGFIhNlc.js" as="script"><link rel="prefetch" href="/assets/bat_win.html-Bk9ILE1R.js" as="script"><link rel="prefetch" href="/assets/git.html-k3Fl1prN.js" as="script"><link rel="prefetch" href="/assets/vim.html-CXoTbNJo.js" as="script"><link rel="prefetch" href="/assets/vps.html-BrH7irnU.js" as="script"><link rel="prefetch" href="/assets/adb.html-Dmc5qPtT.js" as="script"><link rel="prefetch" href="/assets/binder.html-C-Y6MnwP.js" as="script"><link rel="prefetch" href="/assets/binder_01.html-CLjTtG51.js" as="script"><link rel="prefetch" href="/assets/binder_02.html-CM-GPvY7.js" as="script"><link rel="prefetch" href="/assets/ipc.html-DefEdPpM.js" as="script"><link rel="prefetch" href="/assets/parcel.html-DpaAgCw2.js" as="script"><link rel="prefetch" href="/assets/art_create.html-D9EGoxVV.js" as="script"><link rel="prefetch" href="/assets/art_dex2oat.html-DYkXljq2.js" as="script"><link rel="prefetch" href="/assets/art_jni.html-C12CGD_h.js" as="script"><link rel="prefetch" href="/assets/gc_art_01.html-DZc-fvJ4.js" as="script"><link rel="prefetch" href="/assets/01_jvm_memory.html-DfNV7Kn7.js" as="script"><link rel="prefetch" href="/assets/gc_g1.html-DKO2CbK6.js" as="script"><link rel="prefetch" href="/assets/jvm_inst.html-rS5qNZ14.js" as="script"><link rel="prefetch" href="/assets/reflection.html-DcakEpls.js" as="script"><link rel="prefetch" href="/assets/index.html-CgR7FO1Z.js" as="script"><link rel="prefetch" href="/assets/c-pointer.html-DfESFfVY.js" as="script"><link rel="prefetch" href="/assets/cmake.html-CoiUro2O.js" as="script"><link rel="prefetch" href="/assets/cmake_makefile.html-B7fwZ60E.js" as="script"><link rel="prefetch" href="/assets/command.html-CxyvSJNj.js" as="script"><link rel="prefetch" href="/assets/linkers_loaders.html-BYhVf0Nx.js" as="script"><link rel="prefetch" href="/assets/size_t.html-P_VhBC4I.js" as="script"><link rel="prefetch" href="/assets/BL31.html-BVGIdJE1.js" as="script"><link rel="prefetch" href="/assets/index.html-Cw7hBeaV.js" as="script"><link rel="prefetch" href="/assets/THP.html-BgszrdN2.js" as="script"><link rel="prefetch" href="/assets/i2c.html-Cdv6sklB.js" as="script"><link rel="prefetch" href="/assets/idle.html-ChJzhS5K.js" as="script"><link rel="prefetch" href="/assets/idle_tick.html-B2YB7IRM.js" as="script"><link rel="prefetch" href="/assets/notifier.html-amrxXrsW.js" as="script"><link rel="prefetch" href="/assets/pthread.html-BT7_v0kx.js" as="script"><link rel="prefetch" href="/assets/rcu.html-FfJx3phg.js" as="script"><link rel="prefetch" href="/assets/thermal.html-VVfuHC0a.js" as="script"><link rel="prefetch" href="/assets/thermal_init.html-BRrhQCR8.js" as="script"><link rel="prefetch" href="/assets/thermal_init_h.html-BlLhRbva.js" as="script"><link rel="prefetch" href="/assets/xv6.html-C2L34VUt.js" as="script"><link rel="prefetch" href="/assets/Marketing.html-uf-E19-U.js" as="script"><link rel="prefetch" href="/assets/code_simple.html-BShYgCfA.js" as="script"><link rel="prefetch" href="/assets/index.html-Puvv2PvI.js" as="script"><link rel="prefetch" href="/assets/review.html-C5fwjz46.js" as="script"><link rel="prefetch" href="/assets/bpytop.html-Co8G0OAa.js" as="script"><link rel="prefetch" href="/assets/gem.html-Du88YrMP.js" as="script"><link rel="prefetch" href="/assets/on-my-zsh.html-Dak2rqxa.js" as="script"><link rel="prefetch" href="/assets/others.html-BrVHU_kI.js" as="script"><link rel="prefetch" href="/assets/index.html-CFa_f4_8.js" as="script"><link rel="prefetch" href="/assets/tools.html-JgwufGBY.js" as="script"><link rel="prefetch" href="/assets/vps.html-VWZX_1v1.js" as="script"><link rel="prefetch" href="/assets/yarn.html-Dpf1xqOG.js" as="script"><link rel="prefetch" href="/assets/404.html-DGwkcVIS.js" as="script"><link rel="prefetch" href="/assets/index.html-L-6zRB91.js" as="script"><link rel="prefetch" href="/assets/index.html-CYNsqs1h.js" as="script"><link rel="prefetch" href="/assets/index.html-DYe54yC2.js" as="script"><link rel="prefetch" href="/assets/index.html-BhUeJixe.js" as="script"><link rel="prefetch" href="/assets/index.html-lnwOVy3X.js" as="script"><link rel="prefetch" href="/assets/index.html-0Kzu24fa.js" as="script"><link rel="prefetch" href="/assets/index.html-DIEXX-3a.js" as="script"><link rel="prefetch" href="/assets/index.html-Bwb7X5To.js" as="script"><link rel="prefetch" href="/assets/index.html-Bpy2tFs7.js" as="script"><link rel="prefetch" href="/assets/index.html-A9YGej71.js" as="script"><link rel="prefetch" href="/assets/index.html-DpQxhiFJ.js" as="script"><link rel="prefetch" href="/assets/index.html-CMelKNBC.js" as="script"><link rel="prefetch" href="/assets/index.html-CQzOsDLT.js" as="script"><link rel="prefetch" href="/assets/index.html-a_I1I-PL.js" as="script"><link rel="prefetch" href="/assets/index.html-JwjjRDi4.js" as="script"><link rel="prefetch" href="/assets/index.html-C-bqHIny.js" as="script"><link rel="prefetch" href="/assets/index.html-trE1Ziu_.js" as="script"><link rel="prefetch" href="/assets/index.html-C05kIRim.js" as="script"><link rel="prefetch" href="/assets/index.html-hdvtbUSo.js" as="script"><link rel="prefetch" href="/assets/index.html-C8cWcl0p.js" as="script"><link rel="prefetch" href="/assets/index.html-u3pkU2-U.js" as="script"><link rel="prefetch" href="/assets/index.html-Dp_ja6pe.js" as="script"><link rel="prefetch" href="/assets/index.html-DL7RerrT.js" as="script"><link rel="prefetch" href="/assets/index.html-nZWaW2sa.js" as="script"><link rel="prefetch" href="/assets/index.html-BLueIjZK.js" as="script"><link rel="prefetch" href="/assets/index.html-QbIv_0P9.js" as="script"><link rel="prefetch" href="/assets/index.html-khWvmriZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DTTh2g2g.js" as="script"><link rel="prefetch" href="/assets/index.html-B7I8Ik06.js" as="script"><link rel="prefetch" href="/assets/index.html-DFhkPmmQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BNsBrDLd.js" as="script"><link rel="prefetch" href="/assets/index.html-DG40OQm-.js" as="script"><link rel="prefetch" href="/assets/index.html-DG1wzJml.js" as="script"><link rel="prefetch" href="/assets/index.html-BGcwbbEd.js" as="script"><link rel="prefetch" href="/assets/index.html-D_9h0pHQ.js" as="script"><link rel="prefetch" href="/assets/index.html-DL7RerrT.js" as="script"><link rel="prefetch" href="/assets/index.html-DfysevBq.js" as="script"><link rel="prefetch" href="/assets/index.html-DBzZyRhs.js" as="script"><link rel="prefetch" href="/assets/index.html-N-vwOs3N.js" as="script"><link rel="prefetch" href="/assets/index.html-D2SnN9re.js" as="script"><link rel="prefetch" href="/assets/index.html-CP-oJQZk.js" as="script"><link rel="prefetch" href="/assets/index.html-DmkT3Q_4.js" as="script"><link rel="prefetch" href="/assets/index.html-oSxiMd2n.js" as="script"><link rel="prefetch" href="/assets/index.html-BO--K8hH.js" as="script"><link rel="prefetch" href="/assets/index.html-DRlow2_v.js" as="script"><link rel="prefetch" href="/assets/index.html-CIvTE1R-.js" as="script"><link rel="prefetch" href="/assets/index.html-ECAz77Os.js" as="script"><link rel="prefetch" href="/assets/index.html-BKpHmwGa.js" as="script"><link rel="prefetch" href="/assets/index.html-Kz4F9_sJ.js" as="script"><link rel="prefetch" href="/assets/index.html-BCgGyJ6n.js" as="script"><link rel="prefetch" href="/assets/index.html-DdcPewlV.js" as="script"><link rel="prefetch" href="/assets/index.html-B67UQrwL.js" as="script"><link rel="prefetch" href="/assets/index.html-B7xCWEXZ.js" as="script"><link rel="prefetch" href="/assets/index.html-DOEYPJMu.js" as="script"><link rel="prefetch" href="/assets/index.html-WNAVKcvg.js" as="script"><link rel="prefetch" href="/assets/index.html-DOEYPJMu.js" as="script"><link rel="prefetch" href="/assets/index.html-Be-5T_XY.js" as="script"><link rel="prefetch" href="/assets/index.html-BrB2oU8y.js" as="script"><link rel="prefetch" href="/assets/index.html-CTGzFNDH.js" as="script"><link rel="prefetch" href="/assets/index.html-PnmPKqdn.js" as="script"><link rel="prefetch" href="/assets/index.html-Z0Dd8uwb.js" as="script"><link rel="prefetch" href="/assets/index.html-W4MI9YUO.js" as="script"><link rel="prefetch" href="/assets/index.html-BrB2oU8y.js" as="script"><link rel="prefetch" href="/assets/index.html-aKzoM5Np.js" as="script"><link rel="prefetch" href="/assets/index.html-DuoWM8kk.js" as="script"><link rel="prefetch" href="/assets/index.html-C5tYZ9WE.js" as="script"><link rel="prefetch" href="/assets/index.html-1A31cbow.js" as="script"><link rel="prefetch" href="/assets/index.html-SI3Co-Gr.js" as="script"><link rel="prefetch" href="/assets/index.html-Uy5m97KV.js" as="script"><link rel="prefetch" href="/assets/index.html--r4aQEjh.js" as="script"><link rel="prefetch" href="/assets/index.html-Clsdwxzd.js" as="script"><link rel="prefetch" href="/assets/index.html-D-UwJTvB.js" as="script"><link rel="prefetch" href="/assets/index.html-8zTIKicp.js" as="script"><link rel="prefetch" href="/assets/index.html-8eqwGHJO.js" as="script"><link rel="prefetch" href="/assets/index.html-DrRuMq6U.js" as="script"><link rel="prefetch" href="/assets/index.html-BrXWuUm5.js" as="script"><link rel="prefetch" href="/assets/index.html-zSZk-Y8F.js" as="script"><link rel="prefetch" href="/assets/index.html-BPzdk3Uv.js" as="script"><link rel="prefetch" href="/assets/index.html-Bs5eld_8.js" as="script"><link rel="prefetch" href="/assets/index.html-CBPpfPLC.js" as="script"><link rel="prefetch" href="/assets/index.html-DtD-VJQg.js" as="script"><link rel="prefetch" href="/assets/index.html-B3-AZZLB.js" as="script"><link rel="prefetch" href="/assets/index.html-BUvx7RyV.js" as="script"><link rel="prefetch" href="/assets/index.html-DeCPz8wv.js" as="script"><link rel="prefetch" href="/assets/index.html-BoF-ao4T.js" as="script"><link rel="prefetch" href="/assets/index.html-BrIT_EuW.js" as="script"><link rel="prefetch" href="/assets/index.html-oGmch48D.js" as="script"><link rel="prefetch" href="/assets/index.html-CSlK9Gdr.js" as="script"><link rel="prefetch" href="/assets/index.html-OXZaufv4.js" as="script"><link rel="prefetch" href="/assets/index.html-BYvVkuV1.js" as="script"><link rel="prefetch" href="/assets/index.html-ClJfYtOd.js" as="script"><link rel="prefetch" href="/assets/index.html-CFFrJF7J.js" as="script"><link rel="prefetch" href="/assets/index.html-LX6b_Ctd.js" as="script"><link rel="prefetch" href="/assets/index.html-Dy7gLI01.js" as="script"><link rel="prefetch" href="/assets/index.html-BVmOSuLb.js" as="script"><link rel="prefetch" href="/assets/index.html-Do59p0gD.js" as="script"><link rel="prefetch" href="/assets/index.html-XfcX9Qfg.js" as="script"><link rel="prefetch" href="/assets/index.html-CzCxSuG7.js" as="script"><link rel="prefetch" href="/assets/index.html-CyL6-bq0.js" as="script"><link rel="prefetch" href="/assets/index.html-PnmPKqdn.js" as="script"><link rel="prefetch" href="/assets/index.html-DkS71JnZ.js" as="script"><link rel="prefetch" href="/assets/index.html-M_VMkmfA.js" as="script"><link rel="prefetch" href="/assets/index.html-Cn2hMPQ7.js" as="script"><link rel="prefetch" href="/assets/auto-C3mEb9gQ.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-BeePAOX2.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script"><link rel="prefetch" href="/assets/giscus-1zs_z9NH.js" as="script"><link rel="prefetch" href="/assets/SearchResult-CuoDb2Js.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container external-link-icon pure has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/excellence.png" alt><!----><span class="vp-site-name hide-in-pad">weigao</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="åšå®¢ä¸»é¡µ"><!--[--><iconify-icon class="vp-icon" icon="material-symbols:book-2" height="1em" sizing="height"></iconify-icon><!--]-->åšå®¢ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/home.html" aria-label="é¡¹ç›®ä¸»é¡µ"><!--[--><iconify-icon class="vp-icon" icon="material-symbols:home-and-garden" height="1em" sizing="height"></iconify-icon><!--]-->é¡¹ç›®ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/category/" aria-label="Blog"><!--[--><iconify-icon class="vp-icon" icon="material-symbols:book-ribbon" height="1em" sizing="height"></iconify-icon><!--]-->Blog<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/algorithm/" aria-label="Algorithm"><!--[--><iconify-icon class="vp-icon" icon="fluent-emoji-high-contrast:thinking-face" height="1em" sizing="height"></iconify-icon><!--]-->Algorithm<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/python/" aria-label="Python"><!--[--><iconify-icon class="vp-icon" icon="akar-icons:python-fill" height="1em" sizing="height"></iconify-icon><!--]-->Python<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/linux/" aria-label="Linux"><!--[--><iconify-icon class="vp-icon" icon="fluent-mdl2:linux-logo-32" height="1em" sizing="height"></iconify-icon><!--]-->Linux<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/architecture/" aria-label="Arch"><!--[--><iconify-icon class="vp-icon" icon="oui:compute" height="1em" sizing="height"></iconify-icon><!--]-->Arch<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/java/" aria-label="Java"><!--[--><iconify-icon class="vp-icon" icon="ri:java-line" height="1em" sizing="height"></iconify-icon><!--]-->Java<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/timeline/" aria-label="TimeLine"><!--[--><iconify-icon class="vp-icon" icon="icon-park-outline:timeline" height="1em" sizing="height"></iconify-icon><!--]-->TimeLine<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Others"><!--[--><iconify-icon class="vp-icon" icon="basil:other-1-outline" height="1em" sizing="height"></iconify-icon>Others<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/others/tools/" aria-label="Tools"><!--[--><iconify-icon class="vp-icon" icon="mdi:tools" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->Tools<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/others/tmp/" aria-label="Temp"><!--[--><iconify-icon class="vp-icon" icon="carbon:prompt-template" width="1em" height="1em" sizing="both"></iconify-icon><!--]-->Temp<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://theme-hope.vuejs.press/zh/" aria-label="ä¸»é¢˜æ–‡æ¡£" rel="noopener noreferrer" target="_blank"><!--[--><iconify-icon class="vp-icon" icon="material-symbols:zoom-out-map" height="1em" sizing="height"></iconify-icon><!--]-->ä¸»é¢˜æ–‡æ¡£<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/chenweigao" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="slimsearch-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="slimsearch-placeholder">æœç´¢</div><div class="slimsearch-key-hints"><kbd class="slimsearch-key">Ctrl</kbd><kbd class="slimsearch-key">K</kbd></div></button><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/architecture/" aria-label="Architecture"><!---->Architecture<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Arm</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Papers</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">GPU &amp; AI</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/architecture/pipline.html" aria-label="Pipeline"><!---->Pipeline<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/architecture/memory_va_page.html" aria-label="Virtual Memory and Page"><!---->Virtual Memory and Page<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/architecture/numa_socket.html" aria-label="Numa and Socket"><!---->Numa and Socket<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/architecture/cache.html" aria-label="Cache"><!---->Cache<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/architecture/x86_inst.html" aria-label="Instructions of x86"><!---->Instructions of x86<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/architecture/MMU.html" aria-label="MMU"><!---->MMU<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/architecture/ibs.html" aria-label="AMD IBS"><!---->AMD IBS<!----></a></li></ul><!----></aside><!--[--><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Pipeline</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://www.weigao.cc" target="_blank" rel="noopener noreferrer">Someone</a></span><span property="author" content="Someone"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸ"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2022/8/24</span><meta property="datePublished" content="2022-08-24T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 15 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT15M"></span><span class="page-category-info" aria-label="åˆ†ç±»"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item clickable" role="navigation">Arm</span><!--]--><meta property="articleSection" content="Arm"></span><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h2 id="_1-abstract" tabindex="-1"><a class="header-anchor" href="#_1-abstract"><span>1. Abstract</span></a></h2><p>æœ¬æ–‡ä¸»è¦ç ”ç©¶æµæ°´çº¿æŠ€æœ¯åœ¨è®¡ç®—æœºä½“ç³»ç»“æ„ä¸­çš„åº”ç”¨ã€‚æµæ°´çº¿æŠ€æœ¯åˆ†ä¸ºä¸¤ä¸ªå¤§çš„éƒ¨åˆ†ï¼Œæœ¬éƒ¨åˆ†ç»Ÿä¸€ç ”ç©¶æµæ°´çº¿çš„åŸºç¡€çŸ¥è¯†éƒ¨åˆ†ï¼Œæ€»ä½“è€Œè¨€å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p><ol><li>data path implications, hazards and examining the performance of pipelines.</li><li>interaction between pipelining and various aspects of instruction set design</li><li>etc..</li></ol><h3 id="_1-1-what-is-pipeline" tabindex="-1"><a class="header-anchor" href="#_1-1-what-is-pipeline"><span>1.1. What is pipeline?</span></a></h3><blockquote><p>Pipelining is an implementation technique whereby multiple instructions are overlapped in execution;</p></blockquote><p>æµæ°´çº¿çš„æ¦‚å¿µç†è§£è¾ƒä¸ºç®€å•ã€‚</p><blockquote><p>In a computer pipeline, each <em>step</em> in the pipeline completes a part of an instruction.</p><p>Like the assembly line, different steps are completing different parts of different instructions in parallel. Each of these steps is called a <em>pipe stage</em> or a <em>pipe segment</em>. The stages are connected one to the next to form a pipeâ€”instructions enter at one end, progress through the stages, and exit at the other end, just as cars would in an assembly line.</p></blockquote><p>åœ¨è®¡ç®—æœº pipeline ä¸­çš„æ¯ä¸€ä¸ª step éƒ½å®ŒæˆæŒ‡ä»¤çš„ä¸€éƒ¨åˆ†ï¼Œè¿™ä¸ª step åœ¨æµæ°´çº¿ä¸­ç§°ä½œ pipe stage.</p><blockquote><p>The time required between moving an instruction one step down the pipeline is a <em>processor cycle.</em></p></blockquote><p>ä¸Šè¿°æ–‡å­—ä¸¥æ ¼å®šä¹‰äº† cycle çš„æ¦‚å¿µï¼Œå³æŒ‡ä»¤å‘ä¸‹ç§»åŠ¨ä¸€æ­¥æ‰€éœ€è¦çš„æ—¶é—´ã€‚</p><blockquote><p>Because all stages proceed at the same time, the length of a processor cycle is determined by the time required for the slowest pipe stage.</p></blockquote><p>ç”±äºæ‰€æœ‰çš„ stage éƒ½åŒæ—¶è¿è¡Œï¼Œæ‰€ä»¥å¤„ç†å™¨ cycle çš„é•¿åº¦å–å†³äº<strong>æœ€æ…¢</strong>çš„ stage æ‰€éœ€çš„æ—¶é—´ã€‚</p><blockquote><p>In a computer, this processor cycle is almost always 1 clock cycle.</p></blockquote><p>é˜è¿°äº†ä¸€ä¸ªå…¬å¼ï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>c</mi><mi>e</mi><mi>s</mi><mi>s</mi><mtext>Â </mtext><mi>c</mi><mi>y</mi><mi>c</mi><mi>l</mi><mi>e</mi><mo>=</mo><mn>1</mn><mtext>Â </mtext><mi>c</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>k</mi><mtext>Â </mtext><mi>c</mi><mi>y</mi><mi>c</mi><mi>l</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">process\ cycle = 1\ clock \ cycle </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">rocess</span><span class="mspace">Â </span><span class="mord mathnormal">cyc</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mspace">Â </span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">oc</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace">Â </span><span class="mord mathnormal">cyc</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span></span></span></span></span></p><blockquote><p>Pipelining yields a reduction in the average execution time per instruction. If the starting point is a processor that takes multiple clock cycles per instruction, then pipelining reduces the CPI.</p></blockquote><p>æµæ°´çº¿çš„ä¸»è¦ä½œç”¨è¿˜æ˜¯é™ä½æŒ‡ä»¤çš„å¹³å‡æ‰§è¡Œæ—¶é—´ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ¯ä¸ªæŒ‡ä»¤éœ€è¦å¤šä¸ªå¤„ç†å™¨æ—¶é’Ÿå‘¨æœŸï¼Œé‚£ä¹ˆæµæ°´çº¿æŠ€æœ¯å¯ä»¥é™ä½ CPI.</p><h2 id="_2-risc-v-instruction-set" tabindex="-1"><a class="header-anchor" href="#_2-risc-v-instruction-set"><span>2. RISC V Instruction Set</span></a></h2><div class="hint-container warning"><p class="hint-container-title">ğŸŸ¢ğŸŸ¢ RISC V å’Œ ARM çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>éƒ½æ˜¯ RISC æŒ‡ä»¤é›†ï¼Œå¯ä»¥ç†è§£ä¸ºç«äº‰å¯¹æ‰‹ã€‚RISC V æ˜¯å¼€æºçš„ï¼Œæˆæƒè´¹è¾ƒä½ï¼Œä½†æ˜¯ ARM ç”Ÿæ€ç¹è£ï¼Œç›®å‰å›½å†…å¤–ä¹Ÿæœ‰åœ¨åš RISC V çš„ä¼ä¸šã€‚</p></div><p>è™½ç„¶é˜…è¯»çš„è¿™æœ¬ä¹¦ä½¿ç”¨çš„æ˜¯ RISC V æŒ‡ä»¤é›†ï¼Œä½†æ˜¯å…¶ä»–çš„ RISC ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚</p><blockquote><p>All RISC architectures are characterized by a few key properties:</p><ul><li>All operations on data apply to data in registers and typically change the entire register (32 or 64 bits per register).</li><li>The only operations that affect memory are load and store operations that move data from memory to a register or to memory from a register, respectively. Load and store operations that load or store less than a full register (e.g., a byte, 16 bits, or 32 bits) are often available.</li><li>The instruction formats are few in number, with all instructions typically being one size. In RISC V, the register specifiers: <code>rs1</code>, <code>rs2</code>, and <code>rd</code> are always in the same place simplifying the control.</li></ul><p>These simple properties lead to dramatic simplifications in the implementation of pipelining, which is why these instruction sets were designed this way.</p></blockquote><p>æ‰€æœ‰çš„ RISC ä½“ç³»ç»“æ„éƒ½å…·æœ‰ä»¥ä¸‹çš„å…³é”®å±æ€§ï¼š</p><ul><li><p>å¯¹æ•°æ®çš„æ‰€æœ‰æ“ä½œéƒ½é€‚ç”¨äºå¯„å­˜å™¨ä¸­çš„æ•°æ®ï¼Œå¹¶ä¸”é€šå¸¸ä¼šæ›´æ”¹æ•´ä¸ªå¯„å­˜å™¨ã€‚</p></li><li><p>å½±å“å­˜å‚¨çš„å”¯ä¸€æ“ä½œæ˜¯ load å’Œ store. load æ˜¯å°†æ•°æ®ä»å†…å­˜ç§»åŠ¨åˆ°å¯„å­˜å™¨ï¼Œstore æ˜¯å°†æ•°æ®ä»å¯„å­˜å™¨ç§»åŠ¨åˆ°å†…å­˜ã€‚load æˆ–è€… store å°äºå®Œæ•´å¯„å­˜å™¨ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>âŒâŒâŒ ç¬¬ä¸€æ¡å’Œç¬¬äºŒæ¡ä¼¼ä¹æœ‰ç‚¹çŸ›ç›¾ï¼Ÿ</p></li><li><p>æŒ‡ä»¤æ ¼å¼çš„æ•°é‡å¾ˆå°‘ï¼Œæ‰€æœ‰æŒ‡ä»¤é€šå¸¸éƒ½æ˜¯ä¸€ä¸ªå°ºå¯¸ã€‚</p></li></ul><p>ä»¥ä¸Šç®€å•çš„ç†Ÿæ‚‰å¯¼è‡´äº†æµæ°´çº¿å®ç°çš„æ˜¾è‘—ç®€åŒ–ã€‚</p><h3 id="_2-1-the-classic-five-stage-pipeline-for-a-risc-processor" tabindex="-1"><a class="header-anchor" href="#_2-1-the-classic-five-stage-pipeline-for-a-risc-processor"><span>2.1. The Classic Five-Stage Pipeline for a RISC Processor</span></a></h3><p>ä¸‹å›¾ç®€å•ç»™å‡ºäº† RISC V äº”ä¸ª stage çš„å…·ä½“ç»†èŠ‚ï¼š</p><!--[--><div class="mermaid-actions"><button class="preview-button" title="preview"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1316 1024" fill="currentColor"><path d="M658.286 0C415.89 0 0 297.106 0 512c0 214.82 415.89 512 658.286 512 242.322 0 658.285-294.839 658.285-512S900.608 0 658.286 0zm0 877.714c-161.573 0-512-221.769-512-365.714 0-144.018 350.427-365.714 512-365.714 161.572 0 512 217.16 512 365.714s-350.428 365.714-512 365.714z"/><path d="M658.286 292.571a219.429 219.429 0 1 0 0 438.858 219.429 219.429 0 0 0 0-438.858zm0 292.572a73.143 73.143 0 1 1 0-146.286 73.143 73.143 0 0 1 0 146.286z"/></svg></button><button class="download-button" title="download"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor"><path d="M828.976 894.125H190.189c-70.55 0-127.754-57.185-127.754-127.753V606.674c0-17.634 14.31-31.933 31.933-31.933h63.889c17.634 0 31.932 14.299 31.932 31.933v95.822c0 35.282 28.596 63.877 63.877 63.877h511.033c35.281 0 63.877-28.595 63.877-63.877v-95.822c0-17.634 14.298-31.933 31.943-31.933h63.878c17.635 0 31.933 14.299 31.933 31.933v159.7c0 70.566-57.191 127.751-127.754 127.751zM249.939 267.51c12.921-12.92 33.885-12.92 46.807 0l148.97 148.972V94.893c0-17.634 14.302-31.947 31.934-31.947h63.876c17.638 0 31.946 14.313 31.946 31.947v321.589l148.97-148.972c12.922-12.92 33.876-12.92 46.797 0l46.814 46.818c12.922 12.922 12.922 33.874 0 46.807L552.261 624.93c-1.14 1.138-21.664 13.684-42.315 13.693-20.877.01-41.88-12.542-43.021-13.693L203.122 361.135c-12.923-12.934-12.923-33.885 0-46.807l46.817-46.818z"/></svg></button></div><div class="mermaid-wrapper"><div style="display:flex;align-items:center;justify-content:center;height:96px;" class="mermaid-loading"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><ul><li>IF: instruction fetch</li><li>ID: instruction decode</li><li>EX: execution</li><li>MEM: memory access</li><li>WB: write-back</li></ul><blockquote><p>To start with, we have to determine what happens on every clock cycle of the processor and make sure we donâ€™t try to perform two different operations with the same data path resource on the same clock cycle.</p></blockquote><p>é˜²æ­¢åœ¨åŒä¸€ä¸ª clock cycle, åŒä¸€ä¸ª data path resource ä¸Šæ‰§è¡Œä¸¤ä¸ªä¸åŒçš„æ“ä½œã€‚</p><blockquote><p>For example, a single ALU cannot be asked to compute an effective address and perform a subtract operation at the same time. Thus, we must ensure that the overlap of instructions in the pipeline cannot cause such a conflict.</p></blockquote><p>æ¯”å¦‚è¯´æˆ‘ä»¬ä¸èƒ½è¦æ±‚å•ä¸ª ALU å»è®¡ç®—æœ‰æ•ˆåœ°å€çš„åŒæ—¶æ‰§è¡Œå‡æ³•æ“ä½œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿ç®¡é“ä¸­çš„æŒ‡ä»¤çš„é‡å ä¸ä¼šäº§ç”Ÿè¿™ç§å†²çªã€‚</p><p>â­â­ @todo C-7 çš„å›¾ç‰‡å¯ä»¥æœ‰æ•ˆè¯´æ˜è¿™ä¸ªé—®é¢˜ï¼Œå°†æ¥å¯ä»¥æ·»åŠ è¿›æ¥</p><blockquote><p>First, we use separate instruction and data memories, which we would typically implement with separate instruction and data caches.</p></blockquote><p>ä½¿ç”¨å•ç‹¬çš„æŒ‡ä»¤å’Œæ•°æ®ç¼“å­˜ã€‚</p><blockquote><p>The use of separate caches eliminates a conflict for a single memory that would arise between instruction fetch and data memory access.</p><p>Notice that if our pipelined processor has a clock cycle that is equal to that of the unpipelined version, the memory system must deliver five times the bandwidth. This increased demand is one cost of higher performance.</p></blockquote><p>ä½¿ç”¨å•ç‹¬çš„ç¼“å­˜æ¶ˆé™¤äº†æŒ‡ä»¤è·å–æ•°æ®è®¿é—®ä¹‹é—´å¯èƒ½å­˜åœ¨çš„å•ä¸ªå†…å­˜å†²çªã€‚</p><p>ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œå…¶ä»£ä»·æ˜¯å†…å­˜ç³»ç»Ÿå¿…é¡»æä¾›äº”å€çš„å¸¦å®½ï¼ˆ5 clock cycle çš„æƒ…å†µä¸‹ï¼‰ã€‚</p><blockquote><p>Second, the register file is used in the two stages: one for reading in ID and one for writing in WB. These uses are distinct, so we simply show the register file in two places. <em>Hence, we need to perform two reads and one write every clock cycle.</em></p><p>To handle reads and a write to the same register (and for another reason, which will become obvious shortly), we perform the register write in the first half of the clock cycle and the read in the second half.</p></blockquote><p>register file è¢«ä¸¤ä¸ª stages ç”¨äº†ï¼šåœ¨ ID ä¸­è¯»å–ï¼Œåœ¨ WB ä¸­å†™å…¥ï¼Œè¿™ä¸¤ç§ç”¨æ³•æ˜¯ä¸åŒçš„ã€‚</p><p>âŒâŒ æ–œä½“çš„æ²¡æœ‰ç†è§£ã€‚</p><p>ä¸ºäº†å¤„ç†å¯¹åŒä¸€ä¸ªå¯„å­˜å™¨çš„è¯»å’Œå†™ï¼Œæˆ‘ä»¬åœ¨æ—¶é’Ÿå‘¨æœŸçš„å‰åŠéƒ¨åˆ†æ‰§è¡Œå¯„å­˜å™¨å†™å…¥ï¼ŒååŠéƒ¨åˆ†æ‰§è¡Œè¯»å–ã€‚</p><blockquote><p>Third, Figure C.2 does not deal with the PC. To start a new instruction every clock, we must increment and store the PC every clock, and this must be done during the IF stage in preparation for the next instruction. Furthermore, we must also have an adder to compute the potential branch target address during ID. One further problem is that we need the ALU in the ALU stage to evaluate the branch condition. Actually, we donâ€™t really need a full ALU to evaluate the comparison between two registers, but we need enough of the function that it has to occur in this pipestage.</p></blockquote><p>ä¸Šè¿°æè¿°æš‚æ—¶ä¸æ˜¯å¾ˆå…³é”®ã€‚æ€»çš„æ¥è¯´è¿˜æ˜¯ç¡®ä¿ç¡¬ä»¶èµ„æºå¦‚ PC, ALU ç­‰ä¸è¢«åŒæ—¶ä½¿ç”¨ã€‚</p><blockquote><p>Although it is critical to ensure that instructions in the pipeline do not attempt to use the hardware resources at the same time, we must also ensure that instructions in different stages of the pipeline do not interfere with one another.</p><p>This separation is done by introducing pipeline registers between successive stages of the pipeline, so that at the end of a clock cycle all the results from a given stage are stored into a register that is used as the input to the next stage on the next clock cycle. Figure C.3 shows the pipeline drawn with these pipeline registers.</p></blockquote><p>è™½ç„¶ç¡®ä¿ pipeline ä¸­çš„æŒ‡ä»¤ä¸ä¼šåŒæ—¶å°è¯•ä½¿ç”¨ç¡¬ä»¶èµ„æºè‡³å…³é‡è¦ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜å¿…é¡»ç¡®ä¿ pipeline ä¸åŒé˜¶æ®µçš„æŒ‡ä»¤ä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚</p><p>è¿™ç§åˆ†ç¦»æ˜¯é€šè¿‡åœ¨æµæ°´çº¿çš„è¿ç»­ stage ä¹‹é—´å¼•å…¥æµæ°´çº¿å¯„å­˜å™¨æ¥å®ç°çš„ï¼Œä»¥ä¾¿äºåœ¨æ—¶é’Ÿå‘¨æœŸç»“æŸæ—¶ï¼Œç»™å®š stage çš„ç»“æœéƒ½å­˜å‚¨åˆ°ä¸€ä¸ªå¯„å­˜å™¨ä¸­ï¼Œè¯¥å¯„å­˜å™¨ç”¨ä½œä¸‹ä¸€ä¸ª clock cycle çš„è¾“å…¥ã€‚</p><blockquote><p>Although many figures will omit such registers for simplicity, they are required to make the pipeline operate properly and must be present. Of course, similar registers would be needed even in a multicycle data path that had no pipelining (because only values in registers are preserved across clock boundaries).</p><p>In the case of a pipelined processor, the pipeline registers also play the key role of carrying intermediate results from one stage to another where the source and destination may not be directly adjacent. For example, the register value to be stored during a store instruction is read during ID, but not actually used until MEM; it is passed through two pipeline registers to reach the data memory during the MEM stage. Likewise, the result of an ALU instruction is computed during EX, but not actually stored until WB; it arrives there by passing through two pipeline registers. It is sometimes useful to name the pipeline registers, and we follow the convention of naming them by the pipeline stages they connect, so the registers are called IF/ID, ID/EX, EX/MEM, and MEM/WB.</p></blockquote><p>å…ˆè¯´æ˜äº†æµæ°´çº¿å¯„å­˜å™¨è™½ç„¶åœ¨å¾ˆå¤šçš„å›¾é‡Œé¢æ²¡æœ‰è¢«ç”»å‡ºæ¥ï¼Œä½†æ˜¯å…¶å¿…ä¸å¯å°‘ã€‚</p><p>å†è¯´æ˜äº†ï¼Œå¯„å­˜å™¨ä¸­çš„æ•°æ®å¯èƒ½ä¸ä»…ä»…è¢«ä¸¥æ ¼ç›¸é‚»çš„ä¸¤ä¸ªæŒ‡ä»¤ä½¿ç”¨ã€‚å¹¶ä¸”è¿›è¡Œäº†ä¸¾ä¾‹ã€‚</p><h2 id="_3-the-major-hurdle-of-pipeliningâ€”pipeline-hazards" tabindex="-1"><a class="header-anchor" href="#_3-the-major-hurdle-of-pipeliningâ€”pipeline-hazards"><span>3. The Major Hurdle of Pipeliningâ€”Pipeline Hazards</span></a></h2><blockquote><p>There are situations, called hazards, that prevent the next instruction in the instruction stream from executing during its designated clock cycle. Hazards reduce the performance from the ideal speedup gained by pipelining. There are three classes of hazards:</p><ol><li><strong>Structural hazards</strong> arise from resource conflicts when the hardware cannot support all possible combinations of instructions simultaneously in overlapped execution. In modern processors, structural hazards occur primarily in special purpose functional units that are less frequently used (such as floating point divide or other complex long running instructions). They are not a major performance factor, assuming programmers and compiler writers are aware of the lower throughput of these instructions. Instead of spending more time on this infrequent case, we focus on the two other hazards that are much more frequent.</li><li><strong>Data hazards</strong> arise when an instruction depends on the results of a previous instruction in a way that is exposed by the overlapping of instructions in the pipeline.</li><li><strong>Control hazards</strong> arise from the pipelining of branches and other instructions that change the PC.</li></ol></blockquote><p>è®²è¿°äº†ä¸‰ç§å†’é™©æ–¹å¼ã€‚</p><blockquote><p>Hazards in pipelines can make it necessary to stall the pipeline. Avoiding a hazard often requires that some instructions in the pipeline be allowed to proceed while others are delayed. For the pipelines we discuss in this appendix, when an instruction is stalled, all instructions issued later than the stalled instructionâ€”and hence not as far along in the pipelineâ€”are also stalled. Instructions issued earlier than the stalled instructionâ€”and hence farther along in the pipelineâ€”must continue, because otherwise the hazard will never clear. As a result, no new instructions are fetched during the stall.Wewill see several examples of howpipeline stalls operate in this sectionâ€” donâ€™t worry, they arenâ€™t as complex as they might sound!</p></blockquote><p>è¯´äº†å‡ ä¸ªé¿å…å†’é™©çš„æ–¹å¼ã€‚</p><h3 id="_3-1-performance-of-pipelines-with-stalls" tabindex="-1"><a class="header-anchor" href="#_3-1-performance-of-pipelines-with-stalls"><span>3.1. Performance of Pipelines With Stalls</span></a></h3><p>ä¸»è¦æ˜¯è®²è¿°æ€§èƒ½ä¼˜åŒ–ï¼Œæš‚ä¸ç ”ç©¶ã€‚</p><h3 id="_3-2-data-hazards" tabindex="-1"><a class="header-anchor" href="#_3-2-data-hazards"><span>3.2. Data Hazards</span></a></h3><p>@todo</p><h3 id="_3-3-branch-hazards" tabindex="-1"><a class="header-anchor" href="#_3-3-branch-hazards"><span>3.3. Branch Hazards</span></a></h3><p>@todo</p><h3 id="_3-4-reducing-the-cost-of-branches-through-prediction" tabindex="-1"><a class="header-anchor" href="#_3-4-reducing-the-cost-of-branches-through-prediction"><span>3.4. Reducing the Cost of Branches Through Prediction</span></a></h3><blockquote><p>As pipelines get deeper and the potential penalty of branches increases, using delayed branches and similar schemes becomes insufficient.</p><p>Instead, we need to turn to more aggressive means for predicting branches. Such schemes fall into two classes: low-cost static schemes that rely on information available at compile time and strategies that predict branches dynamically based on program behavior. We discuss both approaches here.</p></blockquote><p>éšç€æµæ°´çº¿çš„åŠ æ·±ï¼Œå…¶æ½œåœ¨çš„æƒ©ç½šå¢åŠ ï¼Œä½¿ç”¨ä¸€äº›å¼±é¸¡çš„æ–¹æ³•å·²ç»ä¸å†é‚£ä¹ˆé«˜æ•ˆäº†ã€‚</p><p>ğŸ”´ğŸ”´ğŸ”´ @todo åˆ†æ”¯é¢„æµ‹çš„æ„ä¹‰è¿˜éœ€è¦å†ç»§ç»­ç ”ç©¶</p><p>æ‰€ä»¥è¯´æˆ‘ä»¬éœ€è¦è½¬å‘æ›´ç§¯æçš„æ–¹æ³•æ¥é¢„æµ‹åˆ†æ”¯ï¼Œæ­¤ç±»æ–¹æ¡ˆåˆ†ä¸ºä¸¤ç±»ï¼š</p><ol><li>ä¾èµ–ç¼–è¯‘æ—¶å¯ç”¨ä¿¡æ¯çš„ä½æˆæœ¬é™æ€æ–¹æ¡ˆ</li><li>åŸºäºç¨‹åºè¡Œä¸ºçš„åŠ¨æ€åˆ†æ”¯é¢„æµ‹</li></ol><h4 id="_3-4-1-static-branch-prediction" tabindex="-1"><a class="header-anchor" href="#_3-4-1-static-branch-prediction"><span>3.4.1. Static Branch Prediction</span></a></h4><p>@todo</p><h4 id="_3-4-2-dynamic-branch-prediction-and-branch-prediction-buffers" tabindex="-1"><a class="header-anchor" href="#_3-4-2-dynamic-branch-prediction-and-branch-prediction-buffers"><span>3.4.2. Dynamic Branch Prediction and Branch-Prediction Buffers</span></a></h4><blockquote><p>The simplest dynamic branch-prediction scheme is a branch-prediction buffer or branch history table. A branch-prediction buffer is a small memory indexed by the lower portion of the address of the branch instruction. The memory contains a bit that says whether the branch was recently taken or not. This scheme is the simplest sort of buffer; it has no tags and is useful only to reduce the branch delay when it is longer than the time to compute the possible target PCs.</p></blockquote><p>æœ€ç®€å•çš„åŠ¨æ€åˆ†æ”¯é¢„æµ‹æ˜¯åˆ†æ”¯é¢„æµ‹ buffer æˆ–è€…åˆ†æ”¯é¢„æµ‹ table. å…·ä½“çš„ç»†èŠ‚è¾ƒä¸ºç®€å•ï¼Œä¸å¤šèµ˜è¿°ã€‚</p><blockquote><p>With such a buffer, we donâ€™t know, in fact, if the prediction is correctâ€”it may have been put there by another branch that has the same low-order address bits. But this doesnâ€™t matter. The prediction is a hint that is assumed to be correct, and fetching begins in the predicted direction. If the hint turns out to be wrong, the prediction bit is inverted and stored back.</p></blockquote><p>å³ä½¿æœ‰è¿™ä¸ª buffer, æˆ‘ä»¬ä¹Ÿæ— ä»å¾—çŸ¥ï¼Œé¢„æµ‹æ˜¯å¦æ­£ç¡®ã€‚ä½†æ˜¯è¿™æ²¡å…³ç³»ï¼Œå› ä¸ºé¢„æµ‹æ˜¯è¢«å‡å®šä¸ºä¸€ä¸ªæ­£ç¡®çš„æç¤ºï¼Œfetch ä»é¢„æµ‹çš„æ–¹å‘å¼€å§‹ï¼Œå¦‚æœè¿™ä¸ªæç¤ºæœ€ç»ˆè¢«è¯æ˜æ˜¯é”™è¯¯çš„ï¼Œé‚£ä¹ˆé¢„æµ‹ä½çš„é‚£ä¸ª bit å°±è¢«åè½¬è¿‡æ¥ã€‚</p><p>âŒâŒâŒ æ­¤æ—¶æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåˆ†æ”¯é¢„æµ‹é”™è¯¯ä¹‹åï¼Œæµæ°´çº¿è¢«åè½¬äº†ä¹ˆï¼Ÿ</p><blockquote><p>This buffer is effectively a cache where every access is a hit, and, as we will see, the performance of the buffer depends on both how often the prediction is for the branch of interest and how accurate the prediction is when it matches. Before we analyze the performance, it is useful to make a small, but important, improvement in the accuracy of the branch-prediction scheme.</p></blockquote><p>buffer çš„æ€§èƒ½å–å†³äºé¢„æµ‹å…´è¶£åˆ†æ”¯çš„é¢‘ç‡å’Œé¢„æµ‹åŒ¹é…æ—¶çš„å‡†ç¡®æ€§ã€‚</p><h2 id="_4-how-is-pipelining-implemented" tabindex="-1"><a class="header-anchor" href="#_4-how-is-pipelining-implemented"><span>4. How Is Pipelining Implemented?</span></a></h2><blockquote><p>Before we proceed to basic pipelining, we need to review a simple implementation of an unpipelined version of RISC V.</p></blockquote><p>å…ˆç ”ç©¶ä¸€ä¸ªæ²¡æœ‰æµæ°´çº¿ç‰ˆæœ¬çš„ RISC V.</p><h3 id="_4-1-a-simple-implementation-of-risc-v" tabindex="-1"><a class="header-anchor" href="#_4-1-a-simple-implementation-of-risc-v"><span>4.1. A Simple Implementation of RISC V</span></a></h3><blockquote><p>In this subsection, we focus on a pipeline for an integer subset of RISC V that consists of l<em>oad-store word, branch equal, and integer ALU</em> operations.</p><p>Later in this appendix we will incorporate the basic floating-point operations. Although we discuss only a subset of RISC V, the basic principles can be extended to handle all the instructions; for example, adding store involves some additional computing of the immediate field. We initially used a less aggressive implementation of a branch instruction. We show how to implement the more aggressive version at the end of this section.</p></blockquote><p>æˆ‘ä»¬è®¨è®º RISC V çš„ä¸€ä¸ªå­é›†ã€‚</p><blockquote><p>Every RISC V instruction can be implemented in, at most, 5 clock cycles. The 5 clock cycles are as follows:</p></blockquote><p>æ¥ä¸‹æ¥è¯´æ˜ 5 ä¸ª clock cycle çš„åˆ†åˆ«æ„æˆï¼š</p><ol><li><p>Instruction fetch cycle(IF)</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span>IR &lt;- Mem[PC];</span></span>
<span class="line"><span>NPC &lt;- PC + 4;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Operationâ€”Send out the PC and fetch the instruction from memory into the instruction register (IR); increment the PC by 4 to address the next sequential instruction. The IR is used to hold the instruction that will be needed on subsequent clock cycles; likewise, the register NPC is used to hold the next sequential PC.</p></blockquote></li></ol><p>å…¶æ“ä½œæ˜¯å‘é€å‡ºå» PC å¹¶å°†æŒ‡ä»¤ä»å†…å­˜ä¸­è¯»å–å‡ºæ¥åˆ°<strong>æŒ‡ä»¤å¯„å­˜å™¨ IR</strong>ï¼›å°† PC é€’å¢ 4 ä»¥å¯»å€ä¸‹ä¸€ä¸ªé¡ºåºæŒ‡ä»¤ã€‚IR ç”¨äºä¿å­˜åç»­æ—¶é’Ÿå‘¨æœŸæ‰€éœ€çš„æŒ‡ä»¤ï¼ŒåŒæ ·ï¼Œå¯„å­˜å™¨ <em>NPC ç”¨äºä¿å­˜ä¸‹ä¸€ä¸ªé¡ºåº PC</em>.</p><ol start="2"><li><p>Instruction decode/register fetch cycle (ID)</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span>A &lt;- Regs[rs1];</span></span>
<span class="line"><span>B &lt;- Regs[rs2];</span></span>
<span class="line"><span>Imm &lt;- sign-extended immediate field of IR;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Operationâ€”Decode the instruction and access the register file to read the registers (<code>rs1</code> and <code>rs2</code> are the register specifiers). The outputs of the general-purpose registers are read into two temporary registers (A and B) for use in later clock cycles. The lower 16 bits of the IR are also sign extended and stored into the temporary register <code>Imm</code>, for use in the next cycle.</p><p>Decoding is done in parallel with reading registers, which is possible because these fields are at a fixed location in the RISC V instruction format. Because the immediate portion of a load and an ALU immediate is located in an identical place in every RISC V instruction, the sign-extended immediate is also calculated during this cycle in case it is needed in the next cycle. For stores, a separate sign-extension is needed, because the immediate field is split in two pieces.</p></blockquote></li></ol><p>å…¶æ“ä½œæ˜¯è§£ç æŒ‡ä»¤å¹¶è®¿é—® register file ä»¥è¯»å–å¯„å­˜å™¨ï¼Œé€šç”¨å¯„å­˜å™¨çš„è¾“å‡ºè¢«è¯»å…¥ä¸¤ä¸ªä¸´æ—¶å¯„å­˜å™¨ A å’Œ B, ä»¥ä¾¿äºåœ¨åç»­çš„æ—¶é’Ÿå‘¨æœŸä¸­ä½¿ç”¨ã€‚IR çš„ä½ 16 bitä¹Ÿè¢«æ‰©å±•å¹¶å­˜å‚¨åˆ°ä¸´æ—¶å¯„å­˜å™¨ <code>Imm</code> ä¸­ï¼Œä¾›ä¸‹ä¸€ä¸ª cycle ä½¿ç”¨ã€‚</p><p>è§£ç ä¸è¯»å–å¯„å­˜å™¨å¹¶è¡Œå®Œæˆï¼Œè¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºè¿™äº›å­—æ®µåœ¨ RISC V æŒ‡ä»¤æ ¼å¼ä¸­å¤„äºå›ºå®šä½ç½®ã€‚</p><p>âŒâŒ immediate filed ç›¸å…³çš„ç ”ç©¶ã€‚</p><ol start="3"><li>Execution/effective address cycle (EX)</li></ol><blockquote><p>The ALU operates on the operands prepared in the prior cycle, performing one of four functions depending on the RISC V instruction type:</p><ul><li>Memory reference: <code>ALU Output &lt;- A + Imm;</code> Operationâ€”The ALU adds the operands to form the effective address and places the result into the register ALU Output.</li><li>Register-register ALU instruction: <code>ALU Output &lt;- A func B;</code> Operationâ€”The ALU performs the operation specified by the function code (a combination of the func3 and func7 fields) on the value in register A and on the value in register B. The result is placed in the temporary register ALU Output.</li><li>Register-Immediate ALU instruction: <code>ALUOutput &lt;- A op Imm</code>; Operationâ€”The ALU performs the operation specified by the opcode on the value in register A and on the value in register Imm. The result is placed in the temporary register ALU Output.</li><li>Branch: <code>ALU Output &lt;- NPC + (Imm &lt;&lt; 2);</code><code>Cond &lt;- (A == B)</code> Operationâ€”The ALU adds the NPC to the sign-extended immediate value in Imm, which is shifted left by 2 bits to create a word offset, to compute the address of the branch target. Register A, which has been read in the prior cycle, is checked to determine whether the branch is taken, by comparison with Register B, because we consider only branch equal.</li></ul></blockquote><p>è®²è¿° EX æ­¥éª¤æ‰€åšçš„äº‹æƒ…ã€‚ALU å¯¹ä¸Šä¸ª cycle çš„æ“ä½œæ•°è¿›è¡Œæ“ä½œï¼Œæ ¹æ® RISC V æŒ‡ä»¤ç±»å‹æ“ä½œä¸‹åˆ—å››ä¸ªå‡½æ•°ä¸­çš„ä¸€ä¸ªï¼š</p><ol><li>å†…å­˜å¼•ç”¨ï¼›å¯„å­˜å™¨çš„å€¼åŠ ä¸Šç«‹å³æ•°ï¼Œè®¡ç®—å‡ºæ¥æœ‰æ•ˆåœ°å€å¹¶ä½œä¸º ALU çš„è¾“å‡ºï¼›</li><li>å¯„å­˜å™¨ä¹‹é—´ï¼›ALU å¯¹å¯„å­˜å™¨ A å’Œ B ä¸­çš„å€¼æ‰§è¡ŒæŒ‡å®šåŠŸèƒ½ä»£ç ï¼Œç»“æœæ”¾åœ¨ ALU è¾“å‡ºå¯„å­˜å™¨ï¼›</li><li>å¯„å­˜å™¨å’Œç«‹å³æ•°ï¼›å¯„å­˜å™¨ A çš„å€¼ op ç«‹å³æ•°ï¼›</li><li>åˆ†æ”¯ï¼›ALU å°† NPC æ·»åŠ åˆ° Imm çš„ç¬¦å·æ‰©å±•ç«‹å³å€¼ä¸­ï¼Œè¯¥ç«‹å³å€¼åç§» 2 ä½ä»¥åˆ›å»ºå­—åç§»ï¼Œç”¨äºè®¡ç®—åˆ†æ”¯ç›®æ ‡çš„åœ°å€ã€‚é€šè¿‡ä¸å¯„å­˜å™¨ B ç›¸æ¯”ï¼Œæ£€æŸ¥åœ¨ä¸Šä¸€ä¸ªå‘¨æœŸä¸­è¯»å–çš„å¯„å­˜å™¨ A, ä»¥ç¡®å®šæ˜¯å¦é‡‡ç”¨åˆ†æ”¯ã€‚</li></ol><blockquote><p>The load-store architecture of RISC V means that effective address and execution cycles can be combined into a single clock cycle, because no instruction needs to simultaneously calculate a data address, calculate an instruction target address, and perform an operation on the data. The other integer instructions not included herein are jumps of various forms, which are similar to branches.</p></blockquote><ol start="4"><li>Memory access/branch completion cycle (MEM)</li></ol><blockquote><p>The PC is updated for all instructions: <code>PC &lt;- NPC</code>;</p><ul><li>Memory reference: <code>LMD &lt;- Mem[ALUOutput] or Mem[ALUOutput] &lt;- B;</code> Operationâ€”Access memory if needed. If the instruction is a load, data return from memory and are placed in the LMD (load memory data) register; if it is a store, then the data from the B register are written into memory. In either case, the address used is the one computed during the prior cycle and stored in the register ALU Output.</li><li>Branch: <code>if (cond) PC &lt;- ALUOutput</code> Operationâ€”If the instruction branches, the PC is replaced with the branch destination address in the register ALU Output.</li></ul></blockquote><p>â€‹</p><ol start="5"><li>Write-back cycle (WB)</li></ol><blockquote><ul><li><p>Register-register or Register-immediate ALU instruction: <code>Regs[rd] &lt;- ALU Output;</code></p></li><li><p>Load instruction: <code>Regs[rd] &lt;- LMD;</code> Operationâ€”Write the result into the register file, whether it comes from the memory system (which is in LMD) or from the ALU (which is in ALU Output) with rd designating the register.</p></li></ul></blockquote><p>æˆ‘ä»¬åšä¸€ä¸ªç®€å•çš„æ€»ç»“ï¼Œé¦–å…ˆç¬¬ä¸€æ­¥ IFï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸çŸ¥é“çš„ fetch, è¿™ä¸€æ­¥æ˜¯é€å‡º PC, å°†æŒ‡ä»¤å­˜å‚¨åœ¨ IR ä¸­ï¼ŒPC + 4 åˆ°ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œå¹¶ä¸”å­˜å‚¨åœ¨ NPC ä¸­ï¼ˆä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œç†è§£ç§°ä¸º Next-PCï¼‰ï¼›</p><p>æ¥ä¸‹æ¥è¿›è¡ŒæŒ‡ä»¤çš„è¯‘ç ï¼Œæ³¨æ„è¿™ä¸ªå’Œå¯„å­˜å™¨çš„è¯»å–æ˜¯å¯ä»¥åŒæ—¶å®Œæˆçš„ï¼Œåœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼ŒIR çš„ä½ 16 ä½è¿›è¡Œäº†ç¬¦å·æ‰©å±•ï¼Œå­˜å‚¨åœ¨äº†ä¸´æ—¶å¯„å­˜å™¨ Imm ä¸­ï¼Œä¾›ä¸‹ä¸€ä¸ªå‘¨æœŸä½¿ç”¨ï¼›</p><p>æ¥ä¸‹æ¥æ˜¯æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæ ¹æ®å…·ä½“çš„æŒ‡ä»¤å†³å®šè¦æ‰§è¡Œçš„ç±»å‹ï¼Œå…¶ç»“æœå­˜å‚¨åœ¨äº†ä¸´æ—¶å¯„å­˜å™¨ ALU Output ä¸­ï¼›</p><p>æ¥ä¸‹æ¥æ˜¯è®¿å­˜æŒ‡ä»¤ï¼Œå³ memery accessã€‚éœ€è¦æ³¨æ„åˆ°åœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼Œæ›´æ–°äº† PC å¯„å­˜å™¨ï¼›ä¸ç®¡æ˜¯å¯„å­˜å™¨å†™å…¥è¿˜æ˜¯å†™å‡ºï¼Œä½¿ç”¨çš„åœ°å€éƒ½æ˜¯ä¸Šä¸ªæ­¥éª¤ ALU Output çš„ç»“æœï¼›å¦‚æœæ˜¯è½½å…¥ load æŒ‡ä»¤ï¼Œåˆ™å°†ä» memory è¿”å›çš„æ•°æ®æ”¾å…¥ LMD(load memory data) å¯„å­˜å™¨ä¸­ï¼Œå¦‚æœæ˜¯å­˜å‚¨ store æŒ‡ä»¤ï¼Œåˆ™å°† B å¯„å­˜å™¨çš„å€¼å†™å…¥åˆ° memory ä¸­ã€‚éœ€è¦æ³¨æ„åˆ°ï¼Œè¿™ä¸€æ­¥éª¤å¯èƒ½æ˜¯åˆ†æ”¯æŒ‡ä»¤ï¼Œå¦‚æœæ˜¯åˆ†æ”¯æŒ‡ä»¤çš„è¯ï¼Œåˆ™ç”¨å¯„å­˜å™¨ ALU Output ä¸­çš„åˆ†æ”¯ç›®æ ‡åœ°å€ä»£æ›¿ PC.</p><p>æœ€åä¸€æ­¥æ˜¯å†™å›æ“ä½œï¼›ç›®æ ‡æ˜¯å†™å…¥å¯„å­˜å™¨å †ä¸­ã€‚</p><p>ğŸŸ¢ğŸŸ¢ æ³¨æ„åˆ°ä¸Šè¿°æ˜¯ä¸è€ƒè™‘æµæ°´çº¿çš„æƒ…å†µä¸‹çš„å®ç°ã€‚</p></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/chenweigao/edit/main/architecture/pipline.md" aria-label="ç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><!----><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: weigao_1995@yeah.net">weigao chen</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: 297859260@qq.com">chenweigao</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: weigao.cwg">weigao</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/architecture/gpu-ai/" aria-label="GPU &amp; AI"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->GPU &amp; AI</div></a><a class="route-link auto-link next" href="/architecture/memory_va_page.html" aria-label="Virtual Memory and Page"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Virtual Memory and Page<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!----><!--]--></main><!--]--><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">2017-2023</div><div class="vp-copyright">Copyright Â© 2025 Someone </div></footer></div><!--]--><!--]--><!--[--><!----><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-11Vuyqh7.js" defer></script>
  </body>
</html>
