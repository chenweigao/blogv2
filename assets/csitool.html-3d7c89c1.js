import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as i,c as p,a as n,b as s,d as e,f as o}from"./app-22cda79c.js";const c={},r=o('<p>These instructions are currently expected to work on Linux operating systems that are based on an upstream Linux kernel version between 3.2 (e.g. Ubuntu 12.04) and 4.2 (e.g. Ubuntu 14.04.4).<br> The IWL5300 provides 802.11n channel state information in a format that reports the channel matrices for 30 subcarrier groups, which is about one group for every 2 subcarriers at 20 MHz or one in 4 at 40 MHz. Each channel matrix entry is a complex number, with signed 8-bit resolution each for the real and imaginary parts. It specifies the gain and phase of the signal path between a single transmit-receive antenna pair.</p><h2 id="_1-1-预备工作" tabindex="-1"><a class="header-anchor" href="#_1-1-预备工作" aria-hidden="true">#</a> 1.1 预备工作</h2><p><strong>硬件环境:</strong></p><ol><li>intel 5300网卡（笔记本为mini-pcie接口，半高网卡、台式机为pcie接口，全高网卡）</li><li>无线路由器，一般为市面上常见的商用路由器即可，不设置wifi密码</li></ol><p><strong>软件环境</strong></p><p>软件环境的配置较为困难，一有不慎可能会前功尽弃，不要气馁，多尝试几次也是自身提升的过程！<br> 软件要求：</p>',6),u=n("li",null,"Ubuntu >= 12.04LTS 操作系统镜像",-1),d=n("br",null,null,-1),m={href:"http://pan.baidu.com/s/1dEZ9zSt",title:"csi-tool.tar",target:"_blank",rel:"noopener noreferrer"},k={href:"http://pan.baidu.com/s/1qY6wZN2",title:"Ubuntu-12.04-Desktop",target:"_blank",rel:"noopener noreferrer"},b=n("h2",{id:"_1-2-配置csi-tool",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-2-配置csi-tool","aria-hidden":"true"},"#"),s(" 1.2 配置CSI-Tool")],-1),v=n("p",null,[n("strong",null,[s("注意：系统安装完成后，查看一下内核信息，是否为："),n("code",null,"Linux Version 3.2.0.84-generic-pae"),s("，然后进行下一步")])],-1),f={href:"http://dhalperi.github.io/linux-80211n-csitool/installation.html",title:"Linux 802.11n CSI Tool",target:"_blank",rel:"noopener noreferrer"},h=n("p",null,[s("为了提高下载速度，首先需要"),n("strong",null,"更换软件源"),s("。进入Ubuntu桌面系统，CTRL++ALT+T打开命令行，在命令行输入：")],-1),_=n("p",null,[n("code",null,"sudo vi /etc/apt/source.list")],-1),g={href:"https://www.weigao.cc/blog/2017/01/02/aptsource.html",target:"_blank",rel:"noopener noreferrer"},w=n("br",null,null,-1),x=o(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> gcc <span class="token function">make</span> linux-headers-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-r</span><span class="token variable">)</span></span> git-core
<span class="token comment">#这一步是安装csitool所需要的一些依赖</span>

<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> iw
<span class="token builtin class-name">echo</span> iface wlan0 inet manual <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/network/interfaces
<span class="token function">sudo</span> restart network-manager
<span class="token comment">#依次执行这三步</span>

<span class="token builtin class-name">echo</span> blacklist iwldvm <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/modprobe.d/csitool.conf
<span class="token builtin class-name">echo</span> blacklist iwlwifi <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> <span class="token parameter variable">-a</span> /etc/modprobe.d/csitool.conf
<span class="token comment">#这两步是为了电脑在开机的时候不启动无线，不然有可能导致电脑无法正常开机</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来找到我们之前下载好的csi-tool.tar文件，解压：</p><p><code>tar -xvf csi-tool.tar</code></p><p>得到zip文件，校验一下：</p><p><code>MD5 (csi-tool.zip) = 9390f2d1a38d7e0cbd2d8115ea6dc05b</code></p><p>然后继续解压得到的zip文件：</p><p><code>unzip csi-tool.zip</code></p><p>解压以后：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#首先用cd命令进入到linux-80211n-csitool文件目录下</span>
<span class="token builtin class-name">cd</span> linux-80211n-csitool

<span class="token comment">#对于特殊版本的内核：</span>
<span class="token comment">#CSITOOL_KERNEL_TAG=csitool-$(uname -r | cut -d . -f 1-2)</span>

<span class="token comment">#接下来编译</span>
<span class="token function">make</span> <span class="token parameter variable">-C</span> /lib/modules/<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-r</span><span class="token variable">)</span></span>/build <span class="token assign-left variable">M</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/drivers/net/wireless/iwlwifi modules
<span class="token function">sudo</span> <span class="token function">make</span> <span class="token parameter variable">-C</span> /lib/modules/<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-r</span><span class="token variable">)</span></span>/build <span class="token assign-left variable">M</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/drivers/net/wireless/iwlwifi <span class="token assign-left variable">INSTALL_MOD_DIR</span><span class="token operator">=</span>updates <span class="token punctuation">\\</span>
    modules_install
<span class="token function">sudo</span> depmod
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>完成之后，会看到提示 <em>Can&#39;t read private key</em> 的提示，可以进行下一步：<br> 在 supplyment 文件夹外面执行：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> /lib/firmware/iwlwifi-5000-*.ucode<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token function">sudo</span> <span class="token function">mv</span> <span class="token variable">$file</span> <span class="token variable">$file</span>.orig<span class="token punctuation">;</span> <span class="token keyword">done</span>
<span class="token function">sudo</span> <span class="token function">cp</span> linux-80211n-csitool-supplementary/firmware/iwlwifi-5000-2.ucode.sigcomm2010 /lib/firmware/
<span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> iwlwifi-5000-2.ucode.sigcomm2010 /lib/firmware/iwlwifi-5000-2.ucode
<span class="token function">make</span> <span class="token parameter variable">-C</span> linux-80211n-csitool-supplementary/netlink
</code></pre></div><p>执行完以后基本上就完成了，接下来是测试步骤：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> modprobe <span class="token parameter variable">-r</span> iwlwifi mac80211
<span class="token comment">#如果提示 &quot;FATAL: Module iwlwifi is in use.&quot; ，执行下一步</span>
<span class="token function">sudo</span> modprobe <span class="token parameter variable">-r</span> iwldvm iwlwifi mac80211

<span class="token comment">#接下来reload</span>
<span class="token function">sudo</span> modprobe iwlwifi <span class="token assign-left variable">connector_log</span><span class="token operator">=</span>0x1
<span class="token function">sudo</span> linux-80211n-csitool-supplementary/netlink/log_to_file csi.dat
</code></pre></div>`,13);function L(y,T){const a=l("ExternalLinkIcon");return i(),p("div",null,[r,n("ul",null,[u,n("li",null,[s("csi-tool.tar文件"),d,s(" (PS：这两个文件我已经上传到百度云，"),n("a",m,[s("csi-tool.tar"),e(a)]),s("和"),n("a",k,[s("Ubuntu-12.04-Desktop"),e(a)]),s(")")])]),b,v,n("p",null,[s("可以参考官方文档："),n("a",f,[s("Linux 802.11n CSI Tool"),e(a)])]),h,_,n("p",null,[s("将里面所有的内容替换成搜狐的软件源，具体可以参考"),n("a",g,[s("apt-source"),e(a)]),s("上面说的。"),w,s(" 接下来：")]),x])}const S=t(c,[["render",L],["__file","csitool.html.vue"]]);export{S as default};
