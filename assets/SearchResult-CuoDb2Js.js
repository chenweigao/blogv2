import{f as V,u as W,g as X,h as Z,j as ee,t as te,i as le,k as q,l as f,m as e,n as ae,p as re,s as se,R as A,q as oe,v as ie,x as he,y as ce,z as ne,A as P,B as O,C as me,D as ue,E as ge,F as de,L as ve,G as pe,H as ye,I as be,J as $,K as _e,M as j}from"./app-11Vuyqh7.js";const ke=["/","/home.html","/intro.html","/Excalidraw/Drawing%202025-05-11%2016.01.37%20-%20GPU%20Arch.excalidraw.html","/algorithm/","/algorithm/backtrack.html","/algorithm/binary_search.html","/algorithm/binary_tree.html","/algorithm/dfs_bfs.html","/algorithm/dp.html","/algorithm/lcs.html","/algorithm/package.html","/algorithm/presum.html","/algorithm/slide_window.html","/algorithm/snappet.html","/algorithm/sort.html","/architecture/MMU.html","/architecture/","/architecture/cache.html","/architecture/ibs.html","/architecture/memory_va_page.html","/architecture/numa_socket.html","/architecture/pipline.html","/architecture/x86_inst.html","/java/","/linux/","/linux/apt.html","/python/","/python/coroutines.html","/python/crontab.html","/python/effective-python.html","/python/hash.html","/python/io.html","/python/itertools.html","/python/log.html","/python/pandas.html","/python/pip.html","/python/py-data-struct.html","/python/py-file.html","/python/py-tools.html","/python/pytest.html","/python/python-function.html","/python/python-oo.html","/python/python_c.html","/python/virtualenv.html","/algorithm/data_struct/hashmap.html","/algorithm/data_struct/linkedlist.html","/algorithm/data_struct/","/algorithm/data_struct/stack.html","/algorithm/data_struct/string.html","/algorithm/data_struct/tree.html","/architecture/arm/","/architecture/arm/arm_inline_assembly.html","/architecture/arm/arm_ins.html","/architecture/gpu-ai/","/architecture/gpu-ai/SAC%20-%20ISCA%2023.html","/architecture/gpu-ai/gpu_arch.html","/architecture/gpu-ai/gpu_communication.html","/architecture/papers/","/architecture/papers/vp_hpca14.html","/architecture/papers/vp_value_prediction.html","/blogs/Cloud_Server/Docker.html","/blogs/Cloud_Server/design-pattern.html","/blogs/Cloud_Server/gc.html","/blogs/Cloud_Server/huawei_cloud.html","/blogs/Cloud_Server/jvm.html","/blogs/Cloud_Server/jvm_art.html","/blogs/Cloud_Server/kernel.html","/blogs/Cloud_Server/kvm.html","/blogs/Cloud_Server/linux_os.html","/blogs/Cloud_Server/nginx.html","/blogs/Cloud_Server/openresty.html","/blogs/Cloud_Server/snap.html","/blogs/Database/mongodb.html","/blogs/Database/mysql.html","/blogs/Database/peewee.html","/blogs/Database/redis.html","/blogs/Frameworks/celery.html","/blogs/Frameworks/flask.html","/blogs/Frameworks/spring.html","/blogs/Frontend/chartsjs.html","/blogs/Frontend/css.html","/blogs/Frontend/jsnote.html","/blogs/Frontend/node_install.html","/blogs/Frontend/vue.html","/blogs/Networks/epoll.html","/blogs/Networks/http.html","/blogs/Networks/networks.html","/blogs/Others/code_life.html","/blogs/Others/new.html","/blogs/Others/paper_report.html","/blogs/Others/soft_skills.html","/blogs/Others/thoughts-2018.html","/blogs/Others/worklog.html","/blogs/Others/zen_of_python.html","/blogs/Projects/blog_plan.html","/blogs/Projects/jekyll.html","/blogs/Projects/kilo.html","/blogs/Projects/qqbot.html","/blogs/Projects/vueblog.html","/blogs/Research/ArrayTrack.html","/blogs/Research/RF-Pose.html","/blogs/Research/cnn.html","/blogs/Research/csitool.html","/blogs/Research/cvpr.html","/blogs/Research/face_recognition.html","/blogs/Research/information_theory.html","/blogs/Research/latex.html","/blogs/Research/mnist.html","/blogs/Research/opencv.html","/blogs/Research/splicer.html","/blogs/Research/tensorflow.html","/blogs/Research/tensorflowio.html","/blogs/Tools/bat_win.html","/blogs/Tools/git.html","/blogs/Tools/vim.html","/blogs/Tools/vps.html","/java/android/adb.html","/java/android/binder.html","/java/android/binder_01.html","/java/android/binder_02.html","/java/android/ipc.html","/java/android/parcel.html","/java/art/art_create.html","/java/art/art_dex2oat.html","/java/art/art_jni.html","/java/art/gc_art_01.html","/java/jvm/01_jvm_memory.html","/java/jvm/gc_g1.html","/java/jvm/jvm_inst.html","/java/jvm/reflection.html","/linux/basic/","/linux/basic/c-pointer.html","/linux/basic/cmake.html","/linux/basic/cmake_makefile.html","/linux/basic/command.html","/linux/basic/linkers_loaders.html","/linux/basic/size_t.html","/linux/kernel/BL31.html","/linux/kernel/","/linux/kernel/THP.html","/linux/kernel/i2c.html","/linux/kernel/idle.html","/linux/kernel/idle_tick.html","/linux/kernel/notifier.html","/linux/kernel/pthread.html","/linux/kernel/rcu.html","/linux/kernel/thermal.html","/linux/kernel/thermal_init.html","/linux/kernel/thermal_init_h.html","/linux/kernel/xv6.html","/others/tmp/Marketing.html","/others/tmp/code_simple.html","/others/tmp/","/others/tmp/review.html","/others/tools/bpytop.html","/others/tools/gem.html","/others/tools/on-my-zsh.html","/others/tools/others.html","/others/tools/","/others/tools/tools.html","/others/tools/vps.html","/others/tools/yarn.html","/404.html","/Excalidraw/","/blogs/Cloud_Server/","/blogs/","/blogs/Database/","/blogs/Frameworks/","/blogs/Frontend/","/blogs/Networks/","/blogs/Others/","/blogs/Projects/","/blogs/Research/","/blogs/Tools/","/java/android/","/java/art/","/java/jvm/","/others/","/category/","/category/algorithm/","/category/arm/","/category/computer-architecture/","/category/python/","/category/server/","/category/cloud/","/category/java/","/category/linux/","/category/database/","/category/frameworks/","/category/frontend/","/category/networks/","/category/others/","/category/projects/","/category/research/","/category/tools/","/category/android/","/category/kernel/","/category/jvm/","/tag/","/tag/excalidraw/","/tag/algorithm/","/tag/binary-search/","/tag/binary-tree/","/tag/leetcode/","/tag/lcs/","/tag/dp/","/tag/other/","/tag/cpu/","/tag/architecture/","/tag/x86/","/tag/tlb/","/tag/page/","/tag/python/","/tag/file/","/tag/string/","/tag/gpu/","/tag/ai/","/tag/docker/","/tag/java/","/tag/backend/","/tag/jvm/","/tag/cloud/","/tag/huawei/","/tag/linux/","/tag/thread/","/tag/server/","/tag/nginx/","/tag/database/","/tag/redis/","/tag/web-framework/","/tag/spring/","/tag/frontend/","/tag/figures/","/tag/javascript/","/tag/node.js/","/tag/yarn/","/tag/vue.js/","/tag/tcpip/","/tag/http/","/tag/codelife/","/tag/paper/","/tag/others/","/tag/thoughts/","/tag/bug-log/","/tag/blog/","/tag/cc__/","/tag/csi/","/tag/cv/","/tag/deeplearning/","/tag/latex/","/tag/script/","/tag/git/","/tag/vim/","/tag/adb/","/tag/kernel/","/tag/android/","/tag/binder/","/tag/ohos/","/tag/gc/","/article/","/star/","/timeline/"],xe="SLIMSEARCH_QUERY_HISTORY",y=$(xe,[]),fe=()=>{const{queryHistoryCount:r}=j;return{enabled:r>0,queryHistories:y,addQueryHistory:h=>{y.value=Array.from(new Set([h,...y.value.slice(0,r-1)]))},removeQueryHistory:h=>{y.value=[...y.value.slice(0,h),...y.value.slice(h+1)]}}},D=r=>ke[r.id]+("anchor"in r?`#${r.anchor}`:""),je="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:E}=j,b=$(je,[]),we=()=>({enabled:E>0,resultHistories:b,addResultHistory:i=>{{const h={link:D(i),display:i.display};"header"in i&&(h.header=i.header),b.value=[h,...b.value.slice(0,E-1)]}},removeResultHistory:i=>{b.value=[...b.value.slice(0,i),...b.value.slice(i+1)]}}),Re=r=>{const{page:i,routeLocale:h}=me(),w=ue(),s=q(0),_=f(()=>s.value>0),m=ge([]);return de(()=>{const{search:R,terminate:d}=ve(),k=ye(v=>{const{resultsFilter:S=a=>a,querySplitter:p,suggestionsFilter:Q,...o}=w.value;v?(s.value+=1,R(v,h.value,o).then(a=>S(a,v,h.value,i.value)).then(a=>{s.value-=1,m.value=a}).catch(a=>{console.warn(a),s.value-=1,s.value||(m.value=[])})):m.value=[]},j.searchDelay-j.suggestDelay,{maxWait:5e3});pe([r,h],([v])=>k(v.join(" "))),be(()=>{d()})}),{isSearching:_,results:m}};var Ce=V({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(r,{emit:i}){const h=W(),w=X(),s=Z(ee),{addQueryHistory:_,queryHistories:m,removeQueryHistory:R}=fe(),{resultHistories:d,addResultHistory:k,removeResultHistory:v}=we(),S=te(r,"queries"),{results:p,isSearching:Q}=Re(S),o=le({isQuery:!0,index:0}),a=q(0),u=q(0),L=f(()=>m.value.length>0||d.value.length>0),C=f(()=>p.value.length>0),H=f(()=>p.value[a.value]||null),I=()=>{const{isQuery:t,index:l}=o;l===0?(o.isQuery=!t,o.index=t?d.value.length-1:m.value.length-1):o.index=l-1},M=()=>{const{isQuery:t,index:l}=o;l===(t?m.value.length-1:d.value.length-1)?(o.isQuery=!t,o.index=0):o.index=l+1},U=()=>{a.value=a.value>0?a.value-1:p.value.length-1,u.value=H.value.contents.length-1},z=()=>{a.value=a.value<p.value.length-1?a.value+1:0,u.value=0},N=()=>{u.value<H.value.contents.length-1?u.value+=1:z()},B=()=>{u.value>0?u.value-=1:U()},F=t=>t.map(l=>_e(l)?l:e(l[0],l[1])),Y=t=>{if(t.type==="customField"){const l=ce[t.index]||"$content",[g,c=""]=ne(l)?l[w.value].split("$content"):l.split("$content");return t.display.map(n=>e("div",F([g,...n,c])))}return t.display.map(l=>e("div",F(l)))},x=()=>{a.value=0,u.value=0,i("updateQuery",""),i("close")},G=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},s.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},m.value.map((t,l)=>{const g=o.isQuery&&o.index===l;return e("li",{class:["slimsearch-record-matches",{active:g}],role:"option","aria-selected":g,onClick:()=>{i("updateQuery",t)}},e("div",[e(P,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},t),e("button",{type:"button",class:"slimsearch-remove-icon",title:s.value.remove,"aria-label":s.value.remove,innerHTML:O,onClick:c=>{c.preventDefault(),c.stopPropagation(),R(l)}})]))}))])),J=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},s.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},d.value.map((t,l)=>{const g=!o.isQuery&&o.index===l;return e("li",{class:["slimsearch-record-matches",{active:g}],role:"option","aria-selected":g},e(A,{to:t.link,onClick:()=>{x()}},()=>[e(P,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[t.header?e("div",{class:"slimsearch-record-content-header"},t.header):null,e("div",t.display.map(c=>F(c)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:s.value.remove,"aria-label":s.value.remove,innerHTML:O,onClick:c=>{c.preventDefault(),c.stopPropagation(),v(l)}})]))}))]));return ae("keydown",t=>{if(r.isFocusing){if(C.value){if(t.key==="ArrowUp")B();else if(t.key==="ArrowDown")N();else if(t.key==="Enter"){const l=H.value.contents[u.value];_(r.queries.join(" ")),k(l),h.push(D(l)),x()}}else if(t.key==="ArrowUp")I();else if(t.key==="ArrowDown")M();else if(t.key==="Enter"){const{index:l}=o;o.isQuery?(t.preventDefault(),i("updateQuery",m.value[l])):(h.push(d.value[l].link),x())}}}),re([a,u],()=>{var t;(t=document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active"))==null||t.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:r.queries.length?!C.value:!L.value}]},r.queries.length?Q.value?e(se,{hint:s.value.searching}):C.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},p.value.map(({title:t,contents:l},g)=>{const c=a.value===g;return e("div",{class:["slimsearch-record",{active:c}],role:"group","aria-selected":c},[e("div",{class:"slimsearch-record-title"},t||s.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},l.map((n,K)=>{const T=c&&u.value===K;return e("li",{class:["slimsearch-record-matches",{active:T}],role:"option","aria-selected":T},e(A,{to:D(n),onClick:()=>{_(r.queries.join(" ")),k(n),x()}},()=>[n.type==="text"?null:e(n.type==="title"?oe:n.type==="heading"?ie:he,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[n.type==="text"&&n.header?e("div",{class:"slimsearch-record-content-header"},n.header):null,e("div",Y(n))])]))}))])})):s.value.emptyResult:L.value?[G(),J()]:s.value.emptyHistory)}});export{Ce as default};
