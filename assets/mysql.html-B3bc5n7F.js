import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as e,o as n}from"./app-11Vuyqh7.js";const l={};function h(t,s){return n(),a("div",null,s[0]||(s[0]=[e(`<p>本文主要介绍了 MySql 中涉及到的工具软件，以及 MySql 的查找、插入和删除操作；除此之外还介绍了简单的索引知识和存储引擎；还列举了 DAG 图的设计代码。</p><h2 id="tools-mysql-工具软件" tabindex="-1"><a class="header-anchor" href="#tools-mysql-工具软件"><span>Tools: MySql 工具软件</span></a></h2><ol><li>客户端数据库可视化查询软件 SQLyog</li><li>SQL Server 启动程序 XAMPP</li></ol><h2 id="mysql-command" tabindex="-1"><a class="header-anchor" href="#mysql-command"><span>MySQL Command</span></a></h2><h3 id="login" tabindex="-1"><a class="header-anchor" href="#login"><span>Login</span></a></h3><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">mysql </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">uroot</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> soc;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">show tables;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">show columns </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> table_name;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">limit</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> \\G;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="drop" tabindex="-1"><a class="header-anchor" href="#drop"><span>DROP</span></a></h3><p>删除：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> DATABASE</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> db_name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> table_name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> INDEX</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> index_name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果想删除表中所有的数据但是不影响到表的结构：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">TRUNCATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> table_name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="alter" tabindex="-1"><a class="header-anchor" href="#alter"><span>ALTER</span></a></h3><p>在数据库中插入新的 table 或者说新的列：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> table_name</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">ADD</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> column_name datatype</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> edge</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">ADD</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> ancestor </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">VARCHAR</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>删除同理：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> edge </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">DROP</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> COLUMN ancestor</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="join" tabindex="-1"><a class="header-anchor" href="#join"><span>JOIN</span></a></h3><p>在 MySQL 中，主要是 <code>INNER JOIN</code>, 表示内连接，可以同时连接两个表进行组合查询：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> column_name(s)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> table_name1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">INNER JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> table_name2 </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#D8DEE9FF;"> table_name1</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D8DEE9FF;">column_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D8DEE9FF;">table_name2</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D8DEE9FF;">column_name</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mysql-vs-dag" tabindex="-1"><a class="header-anchor" href="#mysql-vs-dag"><span>MySql vs DAG</span></a></h2><p><a href="https://www.codeproject.com/Articles/22824/A-Model-to-Represent-Directed-Acyclic-Graphs-DAG-o" target="_blank" rel="noopener noreferrer">可以参考这一篇博客，讲述了如何使用 MySql + 邻接表存储一个 DAG</a>，代码如下所示：</p><p>&lt;&lt;&lt; @/docs/.vuepress/code/sql/DAG.sql</p><h2 id="index-索引" tabindex="-1"><a class="header-anchor" href="#index-索引"><span>Index 索引</span></a></h2><h3 id="explain" tabindex="-1"><a class="header-anchor" href="#explain"><span>explain</span></a></h3><p>对于建立的索引，想查看其性能如何：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">explain </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">select</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> tables </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> c1</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#A3BE8C;">a1</span><span style="--shiki-light:#032F62;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> c2</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#A3BE8C;">c2</span><span style="--shiki-light:#032F62;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用 explain 命令即可。</p><h3 id="索引类型" tabindex="-1"><a class="header-anchor" href="#索引类型"><span>索引类型</span></a></h3><ol><li>唯一索引 -- UNIQUE</li></ol><p>此索引的每一个索引值只对应唯一的数据记录；索引的值必须唯一，但是允许有空值（注意和主键不同）。</p><ol start="2"><li><p>主键索引</p></li><li><p>组合索引</p></li><li><p>全文索引</p></li></ol><p>非常消耗磁盘空间</p><h3 id="索引内部数据结构" tabindex="-1"><a class="header-anchor" href="#索引内部数据结构"><span>索引内部数据结构</span></a></h3><p>MySQL 数据库可以分为三种类型，分别为：</p><ol><li>BTree B+Tree</li></ol><p>B 树，即平衡二叉树，是一个二叉树，查找的时候使用二分查找。<br> B+ 树，Mysql 的索引主要实现结构。</p><ol start="2"><li>散列索引</li></ol><p>通过 hash 函数来定位的一种索引。</p><ol start="3"><li>位图索引</li></ol><p>位图索引是一个针对多个字段的简单查询设计一种特殊的索引，适用范围比较小，只适用于字段值固定并且值的种类很少的情况。比如说性别，只有男和女，或者状态等等。</p><h2 id="存储引擎" tabindex="-1"><a class="header-anchor" href="#存储引擎"><span>存储引擎</span></a></h2><h3 id="innodb" tabindex="-1"><a class="header-anchor" href="#innodb"><span>InnoDB</span></a></h3><p>InnoDB 默认是事务存储引擎，默认。</p><p>使用 InnoDB 的时候，会将数据表分为 .frm 和 ibd 两个文件进行存储。</p><p><strong>行锁</strong>设计、支持外检，默认读取操作不会产生锁。</p><p>存储引擎采用聚集(clustered)的方式，每张表都是按照主键的形式进行存储的。</p><h3 id="myisam" tabindex="-1"><a class="header-anchor" href="#myisam"><span>MyISAM</span></a></h3><p>不支持事务，<strong>表锁</strong>设计，支持全文索引，不支持事务。</p><p>索引文件 .MYI(MyIndex) 和 数据文件 .MYD(MyData)分离</p><p>缓冲池值缓存索引文件，而不缓存数据文件。</p>`,50)]))}const r=i(l,[["render",h]]),k=JSON.parse('{"path":"/blogs/Database/mysql.html","title":"MySql 基础总结","lang":"zh-CN","frontmatter":{"title":"MySql 基础总结","date":"2019-09-14T00:00:00.000Z","category":["Database"],"tag":["database"],"description":"本文主要介绍了 MySql 中涉及到的工具软件，以及 MySql 的查找、插入和删除操作；除此之外还介绍了简单的索引知识和存储引擎；还列举了 DAG 图的设计代码。","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MySql 基础总结\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2019-09-14T00:00:00.000Z\\",\\"dateModified\\":\\"2022-09-27T15:04:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Someone\\",\\"url\\":\\"https://www.weigao.cc\\"}]}"],["meta",{"property":"og:url","content":"https://vueblog.weigao.cc/blogs/Database/mysql.html"}],["meta",{"property":"og:site_name","content":"weigao"}],["meta",{"property":"og:title","content":"MySql 基础总结"}],["meta",{"property":"og:description","content":"本文主要介绍了 MySql 中涉及到的工具软件，以及 MySql 的查找、插入和删除操作；除此之外还介绍了简单的索引知识和存储引擎；还列举了 DAG 图的设计代码。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-09-27T15:04:09.000Z"}],["meta",{"property":"article:tag","content":"database"}],["meta",{"property":"article:published_time","content":"2019-09-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-09-27T15:04:09.000Z"}]]},"git":{"createdTime":1644237761000,"updatedTime":1664291049000,"contributors":[{"name":"chenweigao","username":"chenweigao","email":"297859260@qq.com","commits":4,"url":"https://github.com/chenweigao"}]},"readingTime":{"minutes":2.36,"words":707},"filePathRelative":"blogs/Database/mysql.md","excerpt":"<p>本文主要介绍了 MySql 中涉及到的工具软件，以及 MySql 的查找、插入和删除操作；除此之外还介绍了简单的索引知识和存储引擎；还列举了 DAG 图的设计代码。</p>\\n","autoDesc":true}');export{r as comp,k as data};
