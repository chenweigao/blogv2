import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,o as e}from"./app-11Vuyqh7.js";const t={};function l(h,i){return e(),a("div",null,i[0]||(i[0]=[n(`<p>OpenCV (Open Source Computer Vision Library) is an open source computer vision and machine learning software library. OpenCV was built to provide a common infrastructure for computer vision applications and to accelerate the use of machine perception in the commercial products. Being a BSD-licensed product, OpenCV makes it easy for businesses to utilize and modify the code.</p><details><summary>To use the camera to find the frame face</summary><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#24292e;--shiki-dark:#d8dee9ff;--shiki-light-bg:#fff;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes github-light nord vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">video_capture </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> cv2</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">VideoCapture</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">process_this_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#81A1C1;"> True</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">while</span><span style="--shiki-light:#005CC5;--shiki-dark:#81A1C1;"> True</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#616E88;">    # Grab a single frame of video</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">    ret</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> video_capture</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#616E88;">    # Resize frame of video to 1/4 size for faster face recognition processing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">    small_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> cv2</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">resize</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">frame</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">),</span><span style="--shiki-light:#E36209;--shiki-dark:#D8DEE9;"> fx</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;">0.25</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#E36209;--shiki-dark:#D8DEE9;"> fy</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;">0.25</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#616E88;">    # Convert the image from BGR color (which OpenCV uses) to RGB color (which face_recognition uses)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">    rgb_small_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> small_frame</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">[:,</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;"> :,</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;"> ::</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#616E88;">    # Only process every other frame of video to save time</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> process_this_frame</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#616E88;">        # Find all the faces and face encodings in the current frame of video</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">        f_face_locations </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> face_recognition</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">face_locations</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">rgb_small_frame</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">        f_face_encodings </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> face_recognition</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">face_encodings</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">            rgb_small_frame</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> f_face_locations</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#616E88;">        # print(f_face_encodings)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> f_face_encoding </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> f_face_encodings</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">            match </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> face_recognition</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">compare_faces</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">face_encodings</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> f_face_encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;"> 0.4</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#88C0D0;">            print</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">            for</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> in</span><span style="--shiki-light:#005CC5;--shiki-dark:#88C0D0;"> enumerate</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">face_correct_names</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">                if</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> match</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">]:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#88C0D0;">                    print</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">face_correct_names</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">    process_this_frame </span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> not</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> process_this_frame</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">    cv2</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">imshow</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#A3BE8C;">Video2</span><span style="--shiki-light:#032F62;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> frame</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#616E88;">    # Hit &#39;q&#39; on the keyboard to quit!</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;"> cv2</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">waitKey</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> &amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> 0x</span><span style="--shiki-light:#005CC5;--shiki-dark:#B48EAD;">FF</span><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#88C0D0;"> ord</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#A3BE8C;">q</span><span style="--shiki-light:#032F62;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#81A1C1;">        break</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">video_capture</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">release</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#D8DEE9FF;">cv2</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#88C0D0;">destroyAllWindows</span><span style="--shiki-light:#24292E;--shiki-dark:#ECEFF4;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="basic" tabindex="-1"><a class="header-anchor" href="#basic"><span>Basic</span></a></h2><h3 id="load-and-display-an-image" tabindex="-1"><a class="header-anchor" href="#load-and-display-an-image"><span>Load and Display an Image</span></a></h3><blockquote><p>Then create a Mat object that will store the data of the loaded image.</p></blockquote><h4 id="imread" tabindex="-1"><a class="header-anchor" href="#imread"><span><code>imread()</code></span></a></h4><ul><li><p>First argument is filename</p></li><li><p>Second argument specifies the format:</p><ol><li>IMREAD_UNCHANGED (&lt;0) loads the image as is (including the alpha channel if present)</li><li>IMREAD_GRAYSCALE ( 0) loads the image as an intensity one</li><li>IMREAD_COLOR (&gt;0) loads the image in the <strong>RGB format</strong></li></ol></li></ul><h4 id="namedwindow" tabindex="-1"><a class="header-anchor" href="#namedwindow"><span><code>namedWindow()</code></span></a></h4><ul><li><em>WINDOW_AUTOSIZE</em></li><li><em>WINDOW_NORMAL</em></li></ul><h3 id="modify-and-save-an-image" tabindex="-1"><a class="header-anchor" href="#modify-and-save-an-image"><span>Modify and Save an Image</span></a></h3><h4 id="cvtcolor" tabindex="-1"><a class="header-anchor" href="#cvtcolor"><span><code>cvtColor()</code></span></a></h4><blockquote><p><code>cvtColor( image, gray_image, COLOR_BGR2GRAY );</code></p></blockquote><h4 id="imwrite" tabindex="-1"><a class="header-anchor" href="#imwrite"><span><code>imwrite()</code></span></a></h4><blockquote><p><code>imwrite( &quot;../../images/Gray_Image.jpg&quot;, gray_image );</code></p></blockquote><p>Save your transformed image in a file on disk (using <code>cv::imwrite</code> )</p><p>Write the Mat gray_image to a new file.</p><h2 id="core-module" tabindex="-1"><a class="header-anchor" href="#core-module"><span>Core Module</span></a></h2><h3 id="mat" tabindex="-1"><a class="header-anchor" href="#mat"><span>Mat</span></a></h3><p>How OpenCV stores and handles images?</p><ul><li>Mat</li><li>Mat is that you no longer need to manually allocate its memory and release it as soon as you do not need it</li></ul><p><code>uchar* cv::Mat::ptr(int i)</code>: Returns a pointer to the specified matrix row.</p>`,21)]))}const r=s(t,[["render",l]]),d=JSON.parse('{"path":"/blogs/Research/opencv.html","title":"OpenCV","lang":"zh-CN","frontmatter":{"title":"OpenCV","date":"2019-12-10T00:00:00.000Z","tag":["paper","CV"],"category":["Research"],"description":"OpenCV (Open Source Computer Vision Library) is an open source computer vision and machine learning software library. OpenCV was built to provide a common infrastructure for com...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"OpenCV\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2019-12-10T00:00:00.000Z\\",\\"dateModified\\":\\"2022-09-27T15:04:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Someone\\",\\"url\\":\\"https://www.weigao.cc\\"}]}"],["meta",{"property":"og:url","content":"https://vueblog.weigao.cc/blogs/Research/opencv.html"}],["meta",{"property":"og:site_name","content":"weigao"}],["meta",{"property":"og:title","content":"OpenCV"}],["meta",{"property":"og:description","content":"OpenCV (Open Source Computer Vision Library) is an open source computer vision and machine learning software library. OpenCV was built to provide a common infrastructure for com..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-09-27T15:04:09.000Z"}],["meta",{"property":"article:tag","content":"CV"}],["meta",{"property":"article:tag","content":"paper"}],["meta",{"property":"article:published_time","content":"2019-12-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-09-27T15:04:09.000Z"}]]},"git":{"createdTime":1644237761000,"updatedTime":1664291049000,"contributors":[{"name":"chenweigao","username":"chenweigao","email":"297859260@qq.com","commits":4,"url":"https://github.com/chenweigao"}]},"readingTime":{"minutes":1.22,"words":365},"filePathRelative":"blogs/Research/opencv.md","excerpt":"<p>OpenCV (Open Source Computer Vision Library) is an open source computer vision and machine learning software library. OpenCV was built to provide a common infrastructure for computer vision applications and to accelerate the use of machine perception in the commercial products.\\nBeing a BSD-licensed product, OpenCV makes it easy for businesses to utilize and modify the code.</p>","autoDesc":true}');export{r as comp,d as data};
