import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,d as t,o as n}from"./app-11Vuyqh7.js";const i={};function r(o,a){return n(),s("div",null,a[0]||(a[0]=[t('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css"><p>The paper named <strong>Precise Power Delay Profiling with Commodity Wi-Fi</strong> is written by Yaxiong Xie, Mo Li`s student in Nayang Technological University. This note is a recap in a easy-to-understand manner.</p><p>Before we start the text, let us consider the following questions:</p><ul><li>What is power delay profile(PDP) ?</li><li>What is the relationship between bandwidth and resolution?</li><li>How do we get higher resolution about PDP on commodity WI-FI?</li><li>What is the meaning of the name &quot;Splicer&quot;?</li><li>Where is the challenge of splicing bandwidth?</li></ul><h2 id="power-delay-profile" tabindex="-1"><a class="header-anchor" href="#power-delay-profile"><span>Power Delay Profile</span></a></h2><p>Power delay profiles(PDP) gives the intensity of a signal received through a multipath channel as a function of time delay. The time delay is the difference in travel time between multipath arrivals. The abscissa is in units of <em>time</em> and the ordinate is usually in <em><a href="https://en.wikipedia.org/wiki/Decibel" target="_blank" rel="noopener noreferrer">decibels</a></em>. It is easily measured empirically and can be used to extract certain channel&#39;s parameters and characterize multipath channel features, which are widely used in motion- or localization-based applications, more detail math principles see <a href="https://www.gaussianwaves.com/2014/07/power-delay-profile/" target="_blank" rel="noopener noreferrer">Power Delay Profile</a>.</p><p>The paper classified that it is easy to get PDP from the CSI traces collected from commodity Wi-Fi devices(<a href="https://www.mathworks.com/help/matlab/ref/ifft.html?s_tid=gn_loc_drop" target="_blank" rel="noopener noreferrer">iFFT</a>). More specifically, a power delay profile can be measured by directly detecting multipath signals with different arrival times in the time domain, the Channel State Information(CSI) is a good way to describe the channel, which however can be obtained easily from commodity Wi-Fi network interface cards, e.g. Atheors 9300, a NIC that our team used.</p><h2 id="bandwidth-and-resolution" tabindex="-1"><a class="header-anchor" href="#bandwidth-and-resolution"><span>Bandwidth and Resolution</span></a></h2><p>Power delay profile has it resolution, which we can see form the picture, the time resolution(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.1132em;">τ</span></span></span></span>) of the derived PDP from CSI is limited by the bandwidth of the transmitted signal, in mathematic theory, is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>△</mo><mi>τ</mi><mo>=</mo><mfrac><mn>1</mn><mi>B</mi></mfrac></mrow><annotation encoding="application/x-tex">\\bigtriangleup \\tau = \\frac{1}{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">△</span><span class="mord mathnormal" style="margin-right:0.1132em;">τ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>, that&#39;s means the resolution is decided by the signal bandwidth, <strong>wider bandwidth</strong> leads to higher resolution.</p><p>However, channel bandwidth of commodity Wi-Fi is regulated by the 802.11 protocol, 20MHz in 802.11 a/g and 40MHz in 802.11n. Take 802.11n as an example, the power delay profile resolution is up to 50ns, which leads to 15m resolution in measuring the multipath lengths.</p><p>According to this paper, the Splicer can reducing the errors to be less than 2m. How dose it reduce the error and increase resolution using CSI ?</p><h2 id="splicer" tabindex="-1"><a class="header-anchor" href="#splicer"><span>Splicer</span></a></h2><p>Under the rules that although the width of each individual Wi-Fi band is limited, the total bandwidth is wide, especially the CSI measured from these individual Wi-Fi channels can be spliced to derive a finer power delay profile with much higher time resolution.</p><p>The trouble is, the splicing of CSI may result much sever errors. After locating the error sources, there are two main CSI measurement errors should be eliminated:</p><ul><li>CSI <em>amplitude</em> error</li><li>CSI <em>phase</em> error</li></ul><p>According the paper, after eliminating the two errors, we could get the spliced CSI, from which power delay profile derived.</p><h2 id="error-correction" tabindex="-1"><a class="header-anchor" href="#error-correction"><span>Error correction</span></a></h2><h3 id="sources-of-csi-measurement-errors" tabindex="-1"><a class="header-anchor" href="#sources-of-csi-measurement-errors"><span>Sources of CSI measurement errors</span></a></h3><p>According to the wireless processing in the 802.11 NIC and the OFDM<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup>, the CSIs measured by NICs mainly introduce the following errors:</p><ul><li>SFO(sampling frequency offset)</li><li>CFO(central frequency offset)</li><li>PBD(packet boundary detection)</li></ul><p>In mathematic theory, we express the equation:</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=\\inline&amp;space;\\varphi_k=\\theta&amp;space;_k&amp;space;+&amp;space;k\\cdot&amp;space;(\\lambda_o&amp;space;+&amp;space;\\lambda_b&amp;space;)&amp;space;+&amp;space;\\beta" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\\inline&amp;space;\\varphi_k=\\theta&amp;space;_k&amp;space;+&amp;space;k\\cdot&amp;space;(\\lambda_o&amp;space;+&amp;space;\\lambda_b&amp;space;)&amp;space;+&amp;space;\\beta" title="\\varphi_k=\\theta _k + k\\cdot (\\lambda_o + \\lambda_b ) + \\beta"></a></p><p>where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">\\lambda_b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\\lambda_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are phase errors introduced by the packet boundary detection uncertainty and the sampling frequency offset, respectively, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span> is the phase error caused by the central frequency offset.</p><h3 id="amplitude-error-correction" tabindex="-1"><a class="header-anchor" href="#amplitude-error-correction"><span>Amplitude error correction</span></a></h3><p>In this figure, we can see that the two CSI traces from the same Wi-Fi band with an amplitude offset of 7dB. That means although two derived power delay profile have different power levels, the average difference is stable and follows same shapes.</p><h3 id="phase-error-correction" tabindex="-1"><a class="header-anchor" href="#phase-error-correction"><span>Phase error correction</span></a></h3><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">\\lambda_b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> : is caused by the time shift, to correct it, the paper leverage an observation that the time shift varies in each packet reception but follows a Gaussian distribution with zero mean, in other words, it can be remove by averaging over the measured CSI phase.</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">\\lambda_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>: the SFO, this paper&#39;s solution is not the best way, see my another blog.</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span>: the CFO, for individual Wi-Fi bands, phase offset has no impact on derived power delay profile.</li></ul><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>This paper introduced a system named &quot;Splicer&quot; that can driver precise power delay profile on commodity Wi-Fi devices, by using it, we can get the wider Wi-Fi band, that means higher resolution.</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>CYushi Shen, Ed Martin. ezhannel Estimation in OFDM Systems. Freescale Semiconductor, Inc. 2006 <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li></ol></section>',32)]))}const m=e(i,[["render",r]]),c=JSON.parse('{"path":"/blogs/Research/splicer.html","title":"Splicer","lang":"zh-CN","frontmatter":{"title":"Splicer","date":"2018-02-10T00:00:00.000Z","tag":["paper","CSI"],"category":["Research"],"description":"The paper named Precise Power Delay Profiling with Commodity Wi-Fi is written by Yaxiong Xie, Mo Li`s student in Nayang Technological University. This note is a recap in a easy-...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Splicer\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2018-02-10T00:00:00.000Z\\",\\"dateModified\\":\\"2022-09-27T15:26:02.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Someone\\",\\"url\\":\\"https://www.weigao.cc\\"}]}"],["meta",{"property":"og:url","content":"https://vueblog.weigao.cc/blogs/Research/splicer.html"}],["meta",{"property":"og:site_name","content":"weigao"}],["meta",{"property":"og:title","content":"Splicer"}],["meta",{"property":"og:description","content":"The paper named Precise Power Delay Profiling with Commodity Wi-Fi is written by Yaxiong Xie, Mo Li`s student in Nayang Technological University. This note is a recap in a easy-..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2022-09-27T15:26:02.000Z"}],["meta",{"property":"article:tag","content":"CSI"}],["meta",{"property":"article:tag","content":"paper"}],["meta",{"property":"article:published_time","content":"2018-02-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2022-09-27T15:26:02.000Z"}]]},"git":{"createdTime":1644237761000,"updatedTime":1664292362000,"contributors":[{"name":"chenweigao","username":"chenweigao","email":"297859260@qq.com","commits":5,"url":"https://github.com/chenweigao"}]},"readingTime":{"minutes":2.83,"words":849},"filePathRelative":"blogs/Research/splicer.md","excerpt":"<link rel=\\"stylesheet\\" href=\\"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css\\">\\n<link rel=\\"stylesheet\\" href=\\"https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css\\">\\n<p>The paper named <strong>Precise Power Delay Profiling with Commodity Wi-Fi</strong> is written by Yaxiong Xie, Mo Li`s student in Nayang Technological University. This note is a recap in a easy-to-understand manner.</p>","autoDesc":true}');export{m as comp,c as data};
