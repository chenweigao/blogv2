import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as r,c as o,a as e,b as a,d as t,f as i}from"./app-22cda79c.js";const c={},h=i('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css"><p>The paper named <strong>Precise Power Delay Profiling with Commodity Wi-Fi</strong> is written by Yaxiong Xie, Mo Li`s student in Nayang Technological University. This note is a recap in a easy-to-understand manner.</p><p>Before we start the text, let us consider the following questions:</p><ul><li>What is power delay profile(PDP) ?</li><li>What is the relationship between bandwidth and resolution?</li><li>How do we get higher resolution about PDP on commodity WI-FI?</li><li>What is the meaning of the name &quot;Splicer&quot;?</li><li>Where is the challenge of splicing bandwidth?</li></ul><h2 id="power-delay-profile" tabindex="-1"><a class="header-anchor" href="#power-delay-profile" aria-hidden="true">#</a> Power Delay Profile</h2>',6),m=e("em",null,"time",-1),p={href:"https://en.wikipedia.org/wiki/Decibel",target:"_blank",rel:"noopener noreferrer"},d={href:"https://www.gaussianwaves.com/2014/07/power-delay-profile/",target:"_blank",rel:"noopener noreferrer"},u={href:"https://www.mathworks.com/help/matlab/ref/ifft.html?s_tid=gn_loc_drop",target:"_blank",rel:"noopener noreferrer"},g=e("h2",{id:"bandwidth-and-resolution",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#bandwidth-and-resolution","aria-hidden":"true"},"#"),a(" Bandwidth and Resolution")],-1),f=e("p",null,[a("Power delay profile has it resolution, which we can see form the picture, the time resolution("),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mi",null,"τ")]),e("annotation",{encoding:"application/x-tex"},"\\tau")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.4306em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.1132em"}},"τ")])])]),a(") of the derived PDP from CSI is limited by the bandwidth of the transmitted signal, in mathematic theory, is "),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mo",null,"△"),e("mi",null,"τ"),e("mo",null,"="),e("mfrac",null,[e("mn",null,"1"),e("mi",null,"B")])]),e("annotation",{encoding:"application/x-tex"},"\\bigtriangleup \\tau = \\frac{1}{B}")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),e("span",{class:"mord"},"△"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.1132em"}},"τ"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"1.1901em","vertical-align":"-0.345em"}}),e("span",{class:"mord"},[e("span",{class:"mopen nulldelimiter"}),e("span",{class:"mfrac"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8451em"}},[e("span",{style:{top:"-2.655em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.05017em"}},"B")])])]),e("span",{style:{top:"-3.23em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),e("span",{style:{top:"-3.394em"}},[e("span",{class:"pstrut",style:{height:"3em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},"1")])])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.345em"}},[e("span")])])])]),e("span",{class:"mclose nulldelimiter"})])])])]),a(", that's means the resolution is decided by the signal bandwidth, "),e("strong",null,"wider bandwidth"),a(" leads to higher resolution.")],-1),w=i('<p>However, channel bandwidth of commodity Wi-Fi is regulated by the 802.11 protocol, 20MHz in 802.11 a/g and 40MHz in 802.11n. Take 802.11n as an example, the power delay profile resolution is up to 50ns, which leads to 15m resolution in measuring the multipath lengths.</p><p>According to this paper, the Splicer can reducing the errors to be less than 2m. How dose it reduce the error and increase resolution using CSI ?</p><h2 id="splicer" tabindex="-1"><a class="header-anchor" href="#splicer" aria-hidden="true">#</a> Splicer</h2><p>Under the rules that although the width of each individual Wi-Fi band is limited, the total bandwidth is wide, especially the CSI measured from these individual Wi-Fi channels can be spliced to derive a finer power delay profile with much higher time resolution.</p><p>The trouble is, the splicing of CSI may result much sever errors. After locating the error sources, there are two main CSI measurement errors should be eliminated:</p><ul><li>CSI <em>amplitude</em> error</li><li>CSI <em>phase</em> error</li></ul><p>According the paper, after eliminating the two errors, we could get the spliced CSI, from which power delay profile derived.</p><h2 id="error-correction" tabindex="-1"><a class="header-anchor" href="#error-correction" aria-hidden="true">#</a> Error correction</h2><h3 id="sources-of-csi-measurement-errors" tabindex="-1"><a class="header-anchor" href="#sources-of-csi-measurement-errors" aria-hidden="true">#</a> Sources of CSI measurement errors</h3><p>According to the wireless processing in the 802.11 NIC and the OFDM<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup>, the CSIs measured by NICs mainly introduce the following errors:</p><ul><li>SFO(sampling frequency offset)</li><li>CFO(central frequency offset)</li><li>PBD(packet boundary detection)</li></ul><p>In mathematic theory, we express the equation:</p><p><a href="https://www.codecogs.com/eqnedit.php?latex=\\inline&amp;space;\\varphi_k=\\theta&amp;space;_k&amp;space;+&amp;space;k\\cdot&amp;space;(\\lambda_o&amp;space;+&amp;space;\\lambda_b&amp;space;)&amp;space;+&amp;space;\\beta" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\\inline&amp;space;\\varphi_k=\\theta&amp;space;_k&amp;space;+&amp;space;k\\cdot&amp;space;(\\lambda_o&amp;space;+&amp;space;\\lambda_b&amp;space;)&amp;space;+&amp;space;\\beta" title="\\varphi_k=\\theta _k + k\\cdot (\\lambda_o + \\lambda_b ) + \\beta"></a></p>',13),b=e("p",null,[a("where "),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("msub",null,[e("mi",null,"λ"),e("mi",null,"b")])]),e("annotation",{encoding:"application/x-tex"},"\\lambda_b")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"λ"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.3361em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"b")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])])])])]),a(" and "),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("msub",null,[e("mi",null,"λ"),e("mi",null,"o")])]),e("annotation",{encoding:"application/x-tex"},"\\lambda_o")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"λ"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.1514em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"o")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])])])])]),e("br"),a(" are phase errors introduced by the packet boundary detection uncertainty and the sampling frequency offset, respectively, "),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mi",null,"β")]),e("annotation",{encoding:"application/x-tex"},"\\beta")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.05278em"}},"β")])])]),a(" is the phase error caused by the central frequency offset.")],-1),y=e("h3",{id:"amplitude-error-correction",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#amplitude-error-correction","aria-hidden":"true"},"#"),a(" Amplitude error correction")],-1),v=e("p",null,"In this figure, we can see that the two CSI traces from the same Wi-Fi band with an amplitude offset of 7dB. That means although two derived power delay profile have different power levels, the average difference is stable and follows same shapes.",-1),x=e("h3",{id:"phase-error-correction",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#phase-error-correction","aria-hidden":"true"},"#"),a(" Phase error correction")],-1),_=e("ul",null,[e("li",null,[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("msub",null,[e("mi",null,"λ"),e("mi",null,"b")])]),e("annotation",{encoding:"application/x-tex"},"\\lambda_b")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"λ"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.3361em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"b")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])])])])]),a(" : is caused by the time shift, to correct it, the paper leverage an observation that the time shift varies in each packet reception but follows a Gaussian distribution with zero mean, in other words, it can be remove by averaging over the measured CSI phase.")]),e("li",null,[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("msub",null,[e("mi",null,"λ"),e("mi",null,"o")])]),e("annotation",{encoding:"application/x-tex"},"\\lambda_o")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8444em","vertical-align":"-0.15em"}}),e("span",{class:"mord"},[e("span",{class:"mord mathnormal"},"λ"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t vlist-t2"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.1514em"}},[e("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mathnormal mtight"},"o")])])]),e("span",{class:"vlist-s"},"​")]),e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.15em"}},[e("span")])])])])])])])]),a(": the SFO, this paper's solution is not the best way, see my another blog.")]),e("li",null,[e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mi",null,"β")]),e("annotation",{encoding:"application/x-tex"},"\\beta")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),e("span",{class:"mord mathnormal",style:{"margin-right":"0.05278em"}},"β")])])]),a(": the CFO, for individual Wi-Fi bands, phase offset has no impact on derived power delay profile.")])],-1),k=i('<h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion" aria-hidden="true">#</a> Conclusion</h2><p>This paper introduced a system named &quot;Splicer&quot; that can driver precise power delay profile on commodity Wi-Fi devices, by using it, we can get the wider Wi-Fi band, that means higher resolution.</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>CYushi Shen, Ed Martin. ezhannel Estimation in OFDM Systems. Freescale Semiconductor, Inc. 2006 <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li></ol></section>',4);function M(I,S){const s=l("ExternalLinkIcon");return r(),o("div",null,[h,e("p",null,[a("Power delay profiles(PDP) gives the intensity of a signal received through a multipath channel as a function of time delay. The time delay is the difference in travel time between multipath arrivals. The abscissa is in units of "),m,a(" and the ordinate is usually in "),e("em",null,[e("a",p,[a("decibels"),t(s)])]),a(". It is easily measured empirically and can be used to extract certain channel's parameters and characterize multipath channel features, which are widely used in motion- or localization-based applications, more detail math principles see "),e("a",d,[a("Power Delay Profile"),t(s)]),a(".")]),e("p",null,[a("The paper classified that it is easy to get PDP from the CSI traces collected from commodity Wi-Fi devices("),e("a",u,[a("iFFT"),t(s)]),a("). More specifically, a power delay profile can be measured by directly detecting multipath signals with different arrival times in the time domain, the Channel State Information(CSI) is a good way to describe the channel, which however can be obtained easily from commodity Wi-Fi network interface cards, e.g. Atheors 9300, a NIC that our team used.")]),g,f,w,b,y,v,x,_,k])}const P=n(c,[["render",M],["__file","splicer.html.vue"]]);export{P as default};
