import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,d as i,o as r}from"./app-11Vuyqh7.js";const a="/assets/sac_1-BiX2fS9j.png",s="/assets/sac2-nu6nrd-3.png",n={};function L(c,t){return r(),o("div",null,t[0]||(t[0]=[i('<h2 id="_1-abstract" tabindex="-1"><a class="header-anchor" href="#_1-abstract"><span>1. Abstract</span></a></h2><p>todo</p><h2 id="_2-memory-side-versus-sm-side-llc" tabindex="-1"><a class="header-anchor" href="#_2-memory-side-versus-sm-side-llc"><span>2. Memory-Side versus SM-Side LLC</span></a></h2><p>下图是一个 mutli-chip GPU, 由四个 GPU 芯片组成。每个芯片包含 64 个流多处理器（ SM），每个 SM 配有 128KB 的私有一级缓存（ L1 缓存），具有 4MB 的末级缓存（ LLC）容量，以及 8 个内存控制器（图中每个 chip 画出了一个）。</p><p><img src="'+a+'" alt="sac2" loading="lazy"> The Network-on-Chip (NoC) connects 32 SM clusters (two SMs share one network port) to 16 LLC slices with a total bisection bandwidth of 4 TB/s.</p><h3 id="_2-1-noc-是什么" tabindex="-1"><a class="header-anchor" href="#_2-1-noc-是什么"><span>2.1. NOC 是什么？</span></a></h3><p><strong>片上网络（NoC）</strong> 主要用于实现多芯片 GPU 系统内各组件之间的高效通信，对系统性能、数据传输和缓存管理有着关键作用。</p><ol><li><strong>连接组件</strong>：片上网络（ NoC）连接 32 个 SM 集群和 16 个 LLC 切片，让 SM 产生的请求能传至 LLC，确保数据在计算核心与缓存间流通，如 SM 的 L1 缓存未命中时，请求经 NoC 到 LLC 查找数据。连接芯片的内存控制器，使 LLC 与内存可交互， LLC 未命中时，能通过 NoC 从内存获取数据。连接不同芯片间的 NoC，借助类似 NVLink 的片间链路，实现跨芯片数据传输，支持多芯片协同工作。</li><li><strong>保障带宽</strong>：拥有 4TB/s 的总二分带宽，为数据传输提供基础，让系统各部分数据交互有充足带宽资源。片间链路双向带宽达 64GB/s，在多芯片数据交互时，保证数据快速传输，降低延迟，提高系统整体效率。</li><li><strong>支持缓存管理</strong>：为不同 LLC 组织方式提供数据传输支持，内存侧或 SM 侧 LLC 组织下， NoC 依据路由策略将请求准确路由，确保数据能被正确缓存和访问。配合 SAC 技术，根据工作负载和数据共享情况，调整路由策略，实现 LLC 动态配置，优化系统性能。</li></ol><h3 id="_2-2-三种-llc-组织方式" tabindex="-1"><a class="header-anchor" href="#_2-2-三种-llc-组织方式"><span>2.2. 三种 LLC 组织方式</span></a></h3><p>下图展示了多芯片 GPU 中三种不同的末级缓存（ LLC）组织方式，分别为内存侧 LLC 组织、 SM 侧 LLC 组织和共享感知缓存（ SAC） LLC 组织，具体如下：</p><ul><li><strong>图（a）内存侧 LLC 组织</strong>： GPU 芯片包含多个 SM 及其私有 L1 缓存，通过片上网络（ NoC）与 LLC 切片相连。 LLC 切片缓存来自本地内存模块的数据，为本地和远程的 SM 提供服务。 LLC 切片与内存控制器直接连接，数据可直接从内存读取或写入， NoC 负责 SM 与 LLC 切片间的数据传输，以及与其他芯片的连接。</li><li><strong>图（b）SM 侧 LLC 组织</strong>：同样有多个 SM 和 L1 缓存通过 NoC 连接到 LLC 切片。但此方式下， LLC 切片缓存的是本地 SM 访问的数据，与内存控制器之间需经过另一个 NoC 进行连接通信。这种组织允许本地 SM 快速访问缓存数据，缺点是跨芯片数据访问可能更复杂。</li><li><strong>图（c）SAC LLC 组织</strong>：相比前两者更为复杂，包含可配置的路由策略组件，由 SAC 控制器管理。缓存切片旁有选择逻辑和旁路路径，通过多路复用器（ MUX）控制数据流向。这种设计可根据工作负载和数据共享情况，动态切换类似内存侧或 SM 侧的 LLC 组织方式，灵活优化系统性能。</li></ul><figure><img src="'+s+'" alt="alt text=&quot;sac2&quot;" tabindex="0" loading="lazy"><figcaption>alt text=&quot;sac2&quot;</figcaption></figure><h3 id="_2-3-llc-和-sm-的关系" tabindex="-1"><a class="header-anchor" href="#_2-3-llc-和-sm-的关系"><span>2.3. LLC 和 SM 的关系</span></a></h3><p>在 GPU 中，流处理器（SM）与末级缓存（LLC）存在紧密的协作关系，主要体现在以下方面：</p><ol><li><p><strong>数据供给关系</strong>：</p><ul><li><strong>缓存支持计算</strong>： SM 负责执行计算任务（如浮点运算、逻辑操作），需频繁读取数据。 LLC 作为共享缓存，存储从显存中提取的高频访问数据。当 SM 的私有 L1 缓存未命中时，会通过片上网络（NoC）向 LLC 请求数据。例如，在图形渲染或深度学习计算中， LLC 为 SM 快速提供纹理数据、模型参数等，减少 SM 对高延迟显存的直接访问，提升计算效率。</li><li><strong>数据回写</strong>： SM 处理后的数据也可能先写回 LLC，再由 LLC 同步至显存。这一过程依赖 LLC 的缓存机制，优化数据读写的整体性能。</li></ul></li><li><p><strong>架构协作关系</strong>：</p><ul><li><strong>物理连接</strong>： SM 与 LLC 通过片上网络（NoC）连接。例如，在内存侧 LLC 组织中， SM 通过 NoC 直接访问本地 LLC 切片；在 SM 侧 LLC 组织中， LLC 切片位于 SM 与 NoC 之间，需额外 NoC 连接显存控制器。这种架构设计确保 SM 能高效获取 LLC 中的数据。</li><li><strong>共享与调度</strong>： LLC 为多个 SM 共享，需协调不同 SM 的访问请求。例如，当多个 SM 同时请求同一缓存行时， LLC 通过缓存一致性机制（如硬件目录协议）确保数据一致性，保障 SM 计算的正确性。</li></ul></li><li><p><strong>性能优化关系</strong>：</p><ul><li><strong>提升数据局部性</strong>： LLC 通过缓存 SM 频繁访问的数据，增强数据局部性。例如，当 SM 处理连续内存区域的数据时， LLC 缓存相应数据块，使后续访问直接命中 LLC，减少延迟。</li><li><strong>适配不同工作负载</strong>：针对 SM 的计算特性， LLC 的组织方式（如内存侧、 SM 侧）动态调整。例如，在 SM 侧 LLC 组织中， LLC 专门缓存本地 SM 访问的数据，减少片内通信竞争，优化 SM 密集型任务（如并行计算）的性能。</li></ul></li></ol>',15)]))}const C=e(n,[["render",L]]),S=JSON.parse('{"path":"/architecture/gpu-ai/SAC%20-%20ISCA%2023.html","title":"SAC - ISCA 23","lang":"zh-CN","frontmatter":{"title":"SAC - ISCA 23","date":"2025-03-27T00:00:00.000Z","tags":["gpu","AI"],"description":"1. Abstract todo 2. Memory-Side versus SM-Side LLC 下图是一个 mutli-chip GPU, 由四个 GPU 芯片组成。每个芯片包含 64 个流多处理器（ SM），每个 SM 配有 128KB 的私有一级缓存（ L1 缓存），具有 4MB 的末级缓存（ LLC）容量，以及 8 个内存控制器（图中每个 ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SAC - ISCA 23\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-03-27T00:00:00.000Z\\",\\"dateModified\\":\\"2025-05-12T08:59:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Someone\\",\\"url\\":\\"https://www.weigao.cc\\"}]}"],["meta",{"property":"og:url","content":"https://vueblog.weigao.cc/architecture/gpu-ai/SAC%20-%20ISCA%2023.html"}],["meta",{"property":"og:site_name","content":"weigao"}],["meta",{"property":"og:title","content":"SAC - ISCA 23"}],["meta",{"property":"og:description","content":"1. Abstract todo 2. Memory-Side versus SM-Side LLC 下图是一个 mutli-chip GPU, 由四个 GPU 芯片组成。每个芯片包含 64 个流多处理器（ SM），每个 SM 配有 128KB 的私有一级缓存（ L1 缓存），具有 4MB 的末级缓存（ LLC）容量，以及 8 个内存控制器（图中每个 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-12T08:59:22.000Z"}],["meta",{"property":"article:tag","content":"AI"}],["meta",{"property":"article:tag","content":"gpu"}],["meta",{"property":"article:published_time","content":"2025-03-27T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-12T08:59:22.000Z"}]]},"git":{"createdTime":1743155026000,"updatedTime":1747040362000,"contributors":[{"name":"weigao","username":"weigao","email":"weigao.cwg","commits":2,"url":"https://github.com/weigao"},{"name":"xiaocheng","username":"xiaocheng","email":"weigao.cwg","commits":1,"url":"https://github.com/xiaocheng"}]},"readingTime":{"minutes":4.73,"words":1420},"filePathRelative":"architecture/gpu-ai/SAC - ISCA 23.md","excerpt":"<h2>1. Abstract</h2>\\n<p>todo</p>\\n<h2>2. Memory-Side versus SM-Side LLC</h2>\\n<p>下图是一个 mutli-chip GPU, 由四个 GPU 芯片组成。每个芯片包含 64 个流多处理器（ SM），每个 SM 配有 128KB 的私有一级缓存（ L1 缓存），具有 4MB 的末级缓存（ LLC）容量，以及 8 个内存控制器（图中每个 chip 画出了一个）。</p>\\n<p>\\nThe Network-on-Chip (NoC) connects 32 SM clusters (two SMs share one network port) to 16 LLC slices with a total bisection bandwidth of 4 TB/s.</p>","autoDesc":true}');export{C as comp,S as data};
